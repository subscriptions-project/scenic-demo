(function(){var e;function aa(a,b){function c(){}c.prototype=b.prototype;a.prototype=new c;a.prototype.constructor=a;for(var d in b)if(Object.defineProperties){var f=Object.getOwnPropertyDescriptor(b,d);f&&Object.defineProperty(a,d,f)}else a[d]=b[d]};function ba(a,b){b=void 0===b?0:b;for(var c=this.length,d=0<=b?b:Math.max(c+b,0);d<c;d++){var f=this[d];if(f===a||a!==a&&f!==f)return!0}return!1};function ca(a,b){var c=void 0===b?this.contains(a):!b;if(c)return this.remove(a),!1;this.add(a);return!0};function da(a){return a==this||this.documentElement.contains(a)};function ea(a){return(a=Number(a))?0<a?1:-1:a};var fa=Object.prototype.hasOwnProperty;function ga(a,b){if(null==a)throw new TypeError("Cannot convert undefined or null to object");for(var c=Object(a),d=1;d<arguments.length;d++){var f=arguments[d];if(null!=f)for(var g in f)fa.call(f,g)&&(c[g]=f[g])}return c};var ha=Object.prototype.hasOwnProperty;function ia(a){if(null==a)throw new TypeError("Cannot convert undefined or null to object");var b=[],c;for(c in a)ha.call(a,c)&&b.push(a[c]);return b};function m(a){if(!(this instanceof m))throw new TypeError("Constructor Promise requires `new`");if(!ja(a))throw new TypeError("Must pass resolver function");this._state=ka;this._value=[];this._isChainEnd=!0;la(this,ma(this,na),ma(this,oa),{then:a})}m.prototype.then=function(a,b){a=ja(a)?a:void 0;b=ja(b)?b:void 0;if(a||b)this._isChainEnd=!1;return this._state(this._value,a,b)};m.prototype.catch=function(a){return this.then(void 0,a)};
m.resolve=function(a){var b=this,c;return c=a===Object(a)&&a instanceof this?a:new b(function(b){b(a)})};m.reject=function(a){return new this(function(b,c){c(a)})};m.all=function(a){var b=this;return new b(function(c,d){var f=a.length,g=Array(f);if(0===f)return c(g);pa(a,function(a,k){b.resolve(a).then(function(a){g[k]=a;0===--f&&c(g)},d)})})};m.race=function(a){var b=this;return new b(function(c,d){for(var f=0;f<a.length;f++)b.resolve(a[f]).then(c,d)})};function qa(a){throw a;}
m._overrideUnhandledExceptionHandler=function(a){qa=a};function na(a,b,c,d){if(!b){if(b=d)b=b.promise,b._state=na,b._value=a;return this}d||(d=new ra(this.constructor));sa(ta(d,b,a));return d.promise}function oa(a,b,c,d){if(!c)return d&&(b=d.promise,b._state=oa,b._value=a),this;d||(d=new ra(this.constructor));sa(ta(d,c,a));return d.promise}
function ka(a,b,c,d){if(!d){if(!b&&!c)return this;d=new ra(this.constructor)}a.push({deferred:d,onFulfilled:b||d.resolve,onRejected:c||d.reject});return d.promise}function ra(a){var b=this;this.promise=new a(function(a,d){b.resolve=a;b.reject=d});return b}
function ua(a,b,c,d){var f=a._value;a._state=b;a._value=c;d&&b===ka&&d._state(c,void 0,void 0,{promise:a,resolve:void 0,reject:void 0});for(var g=0;g<f.length;g++){var h=f[g];a._state(c,h.onFulfilled,h.onRejected,h.deferred)}f.length=0;d&&(d._isChainEnd=!1);b===oa&&a._isChainEnd&&setTimeout(function(){a._isChainEnd&&qa(c,a)},0)}function ma(a,b){return function(c){ua(a,b,c)}}function va(){}function ja(a){return"function"===typeof a}function pa(a,b){for(var c=0;c<a.length;c++)b(a[c],c)}
function ta(a,b,c){var d=a.promise,f=a.resolve,g=a.reject;return function(){try{var a=b(c);la(d,f,g,a,a)}catch(k){g(k)}}}var sa=function(){function a(){for(var a=0;a<f;a++){var b=d[a];d[a]=null;b()}f=0}function b(a){0===f&&c();d[f++]=a}var c;"undefined"!==typeof window&&window.postMessage?(window.addEventListener("message",a),c=function(){window.postMessage("macro-task","*")}):c=function(){setTimeout(a,0)};var d=Array(16),f=0;return b}();
function la(a,b,c,d,f){var g=c,h,k;try{if(d===a)throw new TypeError("Cannot fulfill promise with itself");var l=d===Object(d);l&&d instanceof a.constructor?ua(a,d._state,d._value,d):l&&(h=d.then)&&ja(h)?(k=function(d){k=g=va;la(a,b,c,d,d)},g=function(a){k=g=va;c(a)},h.call(f,function(a){k(a)},function(a){g(a)})):b(d)}catch(p){g(p)}};(function(a){/Trident|MSIE|IEMobile/i.test(a.navigator.userAgent)&&a.DOMTokenList&&a.Object.defineProperty(a.DOMTokenList.prototype,"toggle",{enumerable:!1,configurable:!0,writable:!0,value:ca})})(self);(function(a){a.Math.sign||a.Object.defineProperty(a.Math,"sign",{enumerable:!1,configurable:!0,writable:!0,value:ea})})(self);(function(a){a.Object.assign||a.Object.defineProperty(a.Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:ga})})(self);
(function(a){a.Object.values||a.Object.defineProperty(a.Object,"values",{enumerable:!1,configurable:!0,writable:!0,value:ia})})(self);(function(a){a.Promise||(a.Promise=m,m.default&&(a.Promise=m.default),a.Promise.resolve=m.resolve,a.Promise.reject=m.reject,a.Promise.all=m.all,a.Promise.race=m.race)})(self);(function(a){a.HTMLDocument.prototype.contains||a.Object.defineProperty(a.HTMLDocument.prototype,"contains",{enumerable:!1,configurable:!0,writable:!0,value:da})})(self);
(function(a){a.Array.prototype.includes||a.Object.defineProperty(Array.prototype,"includes",{enumerable:!1,configurable:!0,writable:!0,value:ba})})(self);var wa={UNKNOWN:0,IMPRESSION_PAYWALL:1,IMPRESSION_AD:2,IMPRESSION_OFFERS:3,IMPRESSION_SUBSCRIBE_BUTTON:4,IMPRESSION_SMARTBOX:5,IMPRESSION_SWG_BUTTON:6,IMPRESSION_CLICK_TO_SHOW_OFFERS:7,IMPRESSION_CLICK_TO_SHOW_OFFERS_OR_ALREADY_SUBSCRIBED:8,IMPRESSION_SUBSCRIPTION_COMPLETE:9,IMPRESSION_ACCOUNT_CHANGED:10,IMPRESSION_PAGE_LOAD:11,IMPRESSION_LINK:12,IMPRESSION_SAVE_SUBSCR_TO_GOOGLE:13,IMPRESSION_GOOGLE_UPDATED:14,IMPRESSION_SHOW_OFFERS_SMARTBOX:15,IMPRESSION_SHOW_OFFERS_SWG_BUTTON:16,IMPRESSION_SELECT_OFFER_SMARTBOX:17,
IMPRESSION_SELECT_OFFER_SWG_BUTTON:18,IMPRESSION_SHOW_CONTRIBUTIONS_SWG_BUTTON:19,IMPRESSION_SELECT_CONTRIBUTION_SWG_BUTTON:20,ACTION_SUBSCRIBE:1E3,ACTION_PAYMENT_COMPLETE:1001,ACTION_ACCOUNT_CREATED:1002,ACTION_ACCOUNT_ACKNOWLEDGED:1003,ACTION_SUBSCRIPTIONS_LANDING_PAGE:1004,ACTION_PAYMENT_FLOW_STARTED:1005,ACTION_OFFER_SELECTED:1006,ACTION_SWG_BUTTON_CLICK:1007,ACTION_VIEW_OFFERS:1008,ACTION_ALREADY_SUBSCRIBED:1009,ACTION_NEW_DEFERRED_ACCOUNT:1010,ACTION_LINK_CONTINUE:1011,ACTION_LINK_CANCEL:1012,
ACTION_GOOGLE_UPDATED_CLOSE:1013,ACTION_USER_CANCELED_PAYFLOW:1014,ACTION_SAVE_SUBSCR_TO_GOOGLE_CONTINUE:1015,ACTION_SAVE_SUBSCR_TO_GOOGLE_CANCEL:1016,ACTION_SWG_BUTTON_SHOW_OFFERS_CLICK:1017,ACTION_SWG_BUTTON_SELECT_OFFER_CLICK:1018,ACTION_SWG_BUTTON_SHOW_CONTRIBUTIONS_CLICK:1019,ACTION_SWG_BUTTON_SELECT_CONTRIBUTION_CLICK:1020,ACTION_USER_CONSENT_DEFERRED_ACCOUNT:1021,ACTION_USER_DENY_DEFERRED_ACCOUNT:1022,ACTION_DEFERRED_ACCOUNT_REDIRECT:1023,ACTION_GET_ENTITLEMENTS:1024,EVENT_PAYMENT_FAILED:2E3,
EVENT_CUSTOM:3E3,EVENT_CONFIRM_TX_ID:3001,EVENT_CHANGED_TX_ID:3002,EVENT_GPAY_NO_TX_ID:3003,EVENT_GPAY_CANNOT_CONFIRM_TX_ID:3004,EVENT_GOOGLE_UPDATED:3005,EVENT_NEW_TX_ID:3006,EVENT_UNLOCKED_BY_SUBSCRIPTION:3007,EVENT_UNLOCKED_BY_METER:3008,EVENT_NO_ENTITLEMENTS:3009,EVENT_HAS_METERING_ENTITLEMENTS:3010,EVENT_SUBSCRIPTION_STATE:4E3},xa={UNKNOWN_CLIENT:0,SWG_CLIENT:1,AMP_CLIENT:2,PROPENSITY_CLIENT:3,SWG_SERVER:4,PUBLISHER_CLIENT:5};
function r(a,b){a=void 0===a?[]:a;var c=(b=void 0===b?!0:b)?1:0;this.H=null==a[c]?null:a[c]}r.prototype.getComplete=function(){return this.H};r.prototype.setComplete=function(a){this.H=a};r.prototype.toArray=function(a){a=void 0===a?!0:a;var b=[this.H];a&&b.unshift(this.label());return b};r.prototype.label=function(){return"AccountCreationRequest"};function ya(a,b){a=void 0===a?[]:a;b=void 0===b||b?1:0;this.hc=null==a[b]?null:a[b];this.Db=null==a[1+b]?null:a[1+b]}e=ya.prototype;
e.getSubscriberOrMember=function(){return this.hc};e.setSubscriberOrMember=function(a){this.hc=a};e.getLinkRequested=function(){return this.Db};e.setLinkRequested=function(a){this.Db=a};e.toArray=function(a){var b=[this.hc,this.Db];(void 0===a||a)&&b.unshift(this.label());return b};e.label=function(){return"AlreadySubscribedResponse"};
function za(a,b){a=void 0===a?[]:a;b=void 0===b||b?1:0;this.sb=null==a[b]?null:a[b];this.lc=null==a[1+b]?null:a[1+b];this.Wb=null==a[2+b]?null:a[2+b];this.rc=null==a[3+b]?null:a[3+b];this.pc=null==a[4+b]?null:a[4+b];this.qc=null==a[5+b]?null:a[5+b];this.w=null==a[6+b]?null:a[6+b];this.Ub=null==a[7+b]?null:a[7+b];this.za=a[8+b]||[];this.mb=null==a[9+b]?null:a[9+b];this.ca=null==a[10+b]?null:a[10+b]}e=za.prototype;e.getEmbedderOrigin=function(){return this.sb};
e.setEmbedderOrigin=function(a){this.sb=a};e.getTransactionId=function(){return this.lc};e.setTransactionId=function(a){this.lc=a};e.getReferringOrigin=function(){return this.Wb};e.setReferringOrigin=function(a){this.Wb=a};e.getUtmSource=function(){return this.rc};e.setUtmSource=function(a){this.rc=a};e.getUtmCampaign=function(){return this.pc};e.setUtmCampaign=function(a){this.pc=a};e.getUtmMedium=function(){return this.qc};e.setUtmMedium=function(a){this.qc=a};e.getSku=function(){return this.w};
e.setSku=function(a){this.w=a};e.getReadyToPay=function(){return this.Ub};e.setReadyToPay=function(a){this.Ub=a};e.getLabelList=function(){return this.za};e.setLabelList=function(a){this.za=a};e.getClientVersion=function(){return this.mb};e.setClientVersion=function(a){this.mb=a};e.getUrl=function(){return this.ca};e.setUrl=function(a){this.ca=a};
e.toArray=function(a){var b=[this.sb,this.lc,this.Wb,this.rc,this.pc,this.qc,this.w,this.Ub,this.za,this.mb,this.ca];(void 0===a||a)&&b.unshift(this.label());return b};e.label=function(){return"AnalyticsContext"};function Aa(a,b){a=void 0===a?[]:a;b=void 0===b||b?1:0;this.ub=null==a[b]?null:a[b];this.Bb=null==a[1+b]?null:a[1+b]}e=Aa.prototype;e.getEventOriginator=function(){return this.ub};e.setEventOriginator=function(a){this.ub=a};e.getIsFromUserAction=function(){return this.Bb};
e.setIsFromUserAction=function(a){this.Bb=a};e.toArray=function(a){var b=[this.ub,this.Bb];(void 0===a||a)&&b.unshift(this.label());return b};e.label=function(){return"AnalyticsEventMeta"};function Ba(a,b){a=void 0===a?[]:a;var c=(b=void 0===b?!0:b)?1:0;this.v=null==a[c]||void 0==a[c]?null:new za(a[c],b);this.vb=null==a[1+c]?null:a[1+c];this.Sa=null==a[2+c]||void 0==a[2+c]?null:new Aa(a[2+c],b);this.Ua=null==a[3+c]||void 0==a[3+c]?null:new t(a[3+c],b)}e=Ba.prototype;e.getContext=function(){return this.v};
e.setContext=function(a){this.v=a};e.getEvent=function(){return this.vb};e.setEvent=function(a){this.vb=a};e.getMeta=function(){return this.Sa};e.setMeta=function(a){this.Sa=a};e.getParams=function(){return this.Ua};e.setParams=function(a){this.Ua=a};e.toArray=function(a){a=void 0===a?!0:a;var b=[this.v?this.v.toArray(a):[],this.vb,this.Sa?this.Sa.toArray(a):[],this.Ua?this.Ua.toArray(a):[]];a&&b.unshift(this.label());return b};e.label=function(){return"AnalyticsRequest"};
function Ca(a,b){a=void 0===a?[]:a;b=void 0===b||b?1:0;this.ha=null==a[b]?null:a[b];this.ec=null==a[1+b]?null:a[1+b]}e=Ca.prototype;e.getJwt=function(){return this.ha};e.setJwt=function(a){this.ha=a};e.getSource=function(){return this.ec};e.setSource=function(a){this.ec=a};e.toArray=function(a){var b=[this.ha,this.ec];(void 0===a||a)&&b.unshift(this.label());return b};e.label=function(){return"EntitlementJwt"};
function Da(a,b){a=void 0===a?[]:a;var c=(b=void 0===b?!0:b)?1:0;this.hb=null==a[c]||void 0==a[c]?null:new Ca(a[c],b);this.Ma=null==a[1+c]||void 0==a[1+c]?null:new Ea(a[1+c],b)}e=Da.prototype;e.getUsedEntitlement=function(){return this.hb};e.setUsedEntitlement=function(a){this.hb=a};e.getClientEventTime=function(){return this.Ma};e.setClientEventTime=function(a){this.Ma=a};
e.toArray=function(a){a=void 0===a?!0:a;var b=[this.hb?this.hb.toArray(a):[],this.Ma?this.Ma.toArray(a):[]];a&&b.unshift(this.label());return b};e.label=function(){return"EntitlementsRequest"};function u(a,b){a=void 0===a?[]:a;b=void 0===b||b?1:0;this.ha=null==a[b]?null:a[b]}u.prototype.getJwt=function(){return this.ha};u.prototype.setJwt=function(a){this.ha=a};u.prototype.toArray=function(a){var b=[this.ha];(void 0===a||a)&&b.unshift(this.label());return b};u.prototype.label=function(){return"EntitlementsResponse"};
function t(a,b){a=void 0===a?[]:a;b=void 0===b||b?1:0;this.dc=null==a[b]?null:a[b];this.xb=null==a[1+b]?null:a[1+b];this.yb=null==a[2+b]?null:a[2+b];this.w=null==a[3+b]?null:a[3+b];this.Kb=null==a[4+b]?null:a[4+b]}e=t.prototype;e.getSmartboxMessage=function(){return this.dc};e.setSmartboxMessage=function(a){this.dc=a};e.getGpayTransactionId=function(){return this.xb};e.setGpayTransactionId=function(a){this.xb=a};e.getHadLogged=function(){return this.yb};e.setHadLogged=function(a){this.yb=a};
e.getSku=function(){return this.w};e.setSku=function(a){this.w=a};e.getOldTransactionId=function(){return this.Kb};e.setOldTransactionId=function(a){this.Kb=a};e.toArray=function(a){var b=[this.dc,this.xb,this.yb,this.w,this.Kb];(void 0===a||a)&&b.unshift(this.label());return b};e.label=function(){return"EventParams"};function Fa(a,b){a=void 0===a?[]:a;b=void 0===b||b?1:0;this.H=null==a[b]?null:a[b];this.tb=null==a[1+b]?null:a[1+b]}e=Fa.prototype;e.getComplete=function(){return this.H};
e.setComplete=function(a){this.H=a};e.getError=function(){return this.tb};e.setError=function(a){this.tb=a};e.toArray=function(a){var b=[this.H,this.tb];(void 0===a||a)&&b.unshift(this.label());return b};e.label=function(){return"FinishedLoggingResponse"};function Ga(a,b){a=void 0===a?[]:a;b=void 0===b||b?1:0;this.jb=null==a[b]?null:a[b];this.kc=null==a[1+b]?null:a[1+b]}e=Ga.prototype;e.getAuthCode=function(){return this.jb};e.setAuthCode=function(a){this.jb=a};e.getToken=function(){return this.kc};
e.setToken=function(a){this.kc=a};e.toArray=function(a){var b=[this.jb,this.kc];(void 0===a||a)&&b.unshift(this.label());return b};e.label=function(){return"LinkSaveTokenRequest"};function v(a,b){a=void 0===a?[]:a;b=void 0===b||b?1:0;this.Zb=null==a[b]?null:a[b]}v.prototype.getRequested=function(){return this.Zb};v.prototype.setRequested=function(a){this.Zb=a};v.prototype.toArray=function(a){var b=[this.Zb];(void 0===a||a)&&b.unshift(this.label());return b};v.prototype.label=function(){return"LinkingInfoResponse"};
function Ha(a,b){a=void 0===a?[]:a;b=void 0===b||b?1:0;this.w=null==a[b]?null:a[b];this.Jb=null==a[1+b]?null:a[1+b];this.Ob=null==a[2+b]?null:a[2+b];this.Rb=null==a[3+b]?null:a[3+b];this.Ib=null==a[4+b]?null:a[4+b]}e=Ha.prototype;e.getSku=function(){return this.w};e.setSku=function(a){this.w=a};e.getOldSku=function(){return this.Jb};e.setOldSku=function(a){this.Jb=a};e.getOneTime=function(){return this.Ob};e.setOneTime=function(a){this.Ob=a};e.getPlayOffer=function(){return this.Rb};
e.setPlayOffer=function(a){this.Rb=a};e.getOldPlayOffer=function(){return this.Ib};e.setOldPlayOffer=function(a){this.Ib=a};e.toArray=function(a){var b=[this.w,this.Jb,this.Ob,this.Rb,this.Ib];(void 0===a||a)&&b.unshift(this.label());return b};e.label=function(){return"SkuSelectedResponse"};function w(a,b){a=void 0===a?[]:a;b=void 0===b||b?1:0;this.Ab=null==a[b]?null:a[b]}w.prototype.getIsClicked=function(){return this.Ab};w.prototype.setIsClicked=function(a){this.Ab=a};
w.prototype.toArray=function(a){var b=[this.Ab];(void 0===a||a)&&b.unshift(this.label());return b};w.prototype.label=function(){return"SmartBoxMessage"};function x(a,b){a=void 0===a?[]:a;b=void 0===b||b?1:0;this.gc=null==a[b]?null:a[b]}x.prototype.getSubscribe=function(){return this.gc};x.prototype.setSubscribe=function(a){this.gc=a};x.prototype.toArray=function(a){var b=[this.gc];(void 0===a||a)&&b.unshift(this.label());return b};x.prototype.label=function(){return"SubscribeResponse"};
function Ea(a,b){a=void 0===a?[]:a;b=void 0===b||b?1:0;this.ac=null==a[b]?null:a[b];this.Gb=null==a[1+b]?null:a[1+b]}e=Ea.prototype;e.getSeconds=function(){return this.ac};e.setSeconds=function(a){this.ac=a};e.getNanos=function(){return this.Gb};e.setNanos=function(a){this.Gb=a};e.toArray=function(a){var b=[this.ac,this.Gb];(void 0===a||a)&&b.unshift(this.label());return b};e.label=function(){return"Timestamp"};function y(a,b){a=void 0===a?[]:a;b=void 0===b||b?1:0;this.ka=null==a[b]?null:a[b]}
y.prototype.getClose=function(){return this.ka};y.prototype.setClose=function(a){this.ka=a};y.prototype.toArray=function(a){var b=[this.ka];(void 0===a||a)&&b.unshift(this.label());return b};y.prototype.label=function(){return"ToastCloseRequest"};function z(a,b){a=void 0===a?[]:a;b=void 0===b||b?1:0;this.Hb=null==a[b]?null:a[b]}z.prototype.getNative=function(){return this.Hb};z.prototype.setNative=function(a){this.Hb=a};
z.prototype.toArray=function(a){var b=[this.Hb];(void 0===a||a)&&b.unshift(this.label());return b};z.prototype.label=function(){return"ViewSubscriptionsResponse"};
var Ia={AccountCreationRequest:r,AlreadySubscribedResponse:ya,AnalyticsContext:za,AnalyticsEventMeta:Aa,AnalyticsRequest:Ba,EntitlementJwt:Ca,EntitlementsRequest:Da,EntitlementsResponse:u,EventParams:t,FinishedLoggingResponse:Fa,LinkSaveTokenRequest:Ga,LinkingInfoResponse:v,SkuSelectedResponse:Ha,SmartBoxMessage:w,SubscribeResponse:x,Timestamp:Ea,ToastCloseRequest:y,ViewSubscriptionsResponse:z};function Ja(){}e=Ja.prototype;e.getElement=function(){};e.init=function(){};e.resized=function(){};e.whenComplete=function(){};e.shouldFadeBody=function(){};e.hasLoadingIndicator=function(){};function La(a,b,c,d){return a.acceptResult().then(function(a){if(a.origin!=b||c&&!a.originVerified||d&&!a.secureChannel)throw Error("channel mismatch");return a.data})};function Ma(a){if(/swg.debug=1/.test(self.location.hash)){var b=Array.prototype.slice.call(arguments,0);b.unshift("[Subscriptions]");A.apply(A,b)}}function A(a){console.log.apply(console,arguments)}function C(a){console.warn.apply(console,arguments)}
function D(a,b,c){var d;if(!a){var f=(b||"Assertion failed").split("%s"),g=f.shift(),h=g,k=[];""!=g&&k.push(g);for(g=2;g<arguments.length;g++){var l=arguments[g];l&&l.tagName&&(d=l);var p=f.shift();k.push(l);var n=p.trim();""!=n&&k.push(n);var n=h,q;q=(q=l)&&1==q.nodeType?q.tagName.toLowerCase()+(q.id?"#"+q.id:""):q;h=n+(q+p)}g=Error(h);g.fromAssert=!0;g.associatedElement=d;g.messageArray=k;throw g;}return a};function Na(a,b){if(!a)return null;var c=a.length||0;if(0<c)for(var d=0;d<c;d++){var f=a[d];if(b(f,d,a))return f}return null};var Oa={"-":"+",_:"/",".":"="};function Pa(a){for(var b=new Uint8Array(a.length),c=0;c<a.length;c++){var d=a.charCodeAt(c);D(255>=d,"Characters must be in range [0,255]");b[c]=d}return b}function Qa(a){for(var b=Array(a.length),c=0;c<a.length;c++)b[c]=String.fromCharCode(a[c]);return b.join("")}function Ra(a){if("undefined"!==typeof TextDecoder)return(new TextDecoder("utf-8")).decode(a);var b=Qa(new Uint8Array(a));return decodeURIComponent(escape(b))}
function Sa(a){return"undefined"!==typeof TextEncoder?(new TextEncoder("utf-8")).encode(a):Pa(unescape(encodeURIComponent(a)))}function Ta(a){var b=atob(a.replace(/[-_.]/g,function(a){return Oa[a]}));return Pa(b)};function Ua(){var a=Date.now().toString(16),b=a.substring(a.length-8).toUpperCase()+"-",c=0,a=new Uint8Array(23),d=self.msCrypto?self.msCrypto:self.crypto;if(d&&d.getRandomValues)for(d.getRandomValues(a),d=a.length-1;-1<d;d--)a[d]%=16;else for(d=a.length-1;-1<d;d--)a[d]=Math.floor(16*Math.random());for(var f=a,a=9;36>a;a++)switch(a){case 13:case 18:case 23:b+="-";break;case 14:b+="4";break;case 19:b+="0123456789ABCDEF"[f[c++]&3|8];break;default:b+="0123456789ABCDEF"[f[c++]]}return b}
function Va(a){var b=self.crypto||self.msCrypto,c=b.subtle;return c.digest("SHA-512",Sa(a)).then(function(a){for(var b=[],c=new DataView(a),d=0;d<c.byteLength;d+=4){var k=c.getUint32(d).toString(16);b.push(("00000000"+k).slice(-8))}return b.join("")})};var Wa,Xa="Webkit webkit Moz moz ms O o".split(" "),Ya={"align-content":"normal",animation:"none","align-items":"normal","align-self":"auto","alignment-baseline":"auto","backface-visibility":"hidden","background-clip":"border-box","background-image":"none","baseline-shift":"0","block-size":"auto",border:"none","border-collapse":"separate",bottom:"0","box-sizing":"border-box","break-after":"auto","break-before":"auto","break-inside":"auto","buffered-rendering":"auto","caption-side":"top","caret-color":"rgb(51, 51, 51)",
clear:"none",color:"rgb(51, 51, 51)","color-rendering":"auto","column-count":"auto","column-fill":"balance","column-gap":"normal","column-rule-color":"rgb(51, 51, 51)","column-rule-style":"none","column-rule-width":"0","column-span":"none","column-width":"auto",contain:"none","counter-increment":"none","counter-reset":"none",cursor:"auto",direction:"inherit",display:"block","empty-cells":"show",filter:"none",flex:"none","flex-flow":"row nowrap","float":"none","flood-color":"rgb(0, 0, 0)","flood-opacity":"1",
font:"none","font-size":"medium","font-family":"",height:"auto",hyphens:"manual","image-rendering":"auto","inline-size":"",isolation:"auto","justify-content":"normal","justify-items":"normal","justify-self":"auto","letter-spacing":"normal","lighting-color":"rgb(255, 255, 255)","line-break":"auto","line-height":"normal",mask:"none","max-block-size":"none","max-height":"none","max-inline-size":"none","max-width":"none","min-block-size":"none","min-height":"0","min-inline-size":"0","min-width":"0","mix-blend-mode":"normal",
"object-fit":"fill","offset-distance":"none","offset-path":"none","offset-rotate":"auto 0deg",opacity:"1",order:"0",orphans:"2",outline:"none","overflow-anchor":"auto","overflow-wrap":"normal",overflow:"visible",padding:"0",page:"",perspective:"none","pointer-events":"auto",position:"static",quotes:"",resize:"none",right:"0","scroll-behavior":"auto","tab-size":"8","table-layout":"auto","text-align":"start","text-align-last":"auto","text-anchor":"start","text-combine-upright":"none","text-decoration":"none",
"text-indent":"0","text-orientation":"mixed","text-overflow":"clip","text-rendering":"auto","text-shadow":"none","text-size-adjust":"auto","text-transform":"none","text-underline-position":"auto",top:"auto","touch-action":"auto",transform:"none",transition:"none 0s ease 0s","unicode-bidi":"normal","user-select":"auto","vector-effect":"none","vertical-align":"baseline",visibility:"visible","white-space":"normal",widows:"2","word-break":"normal","word-spacing":"0","word-wrap":"normal","writing-mode":"horizontal-tb",
zoom:"1","z-index":"auto"};function Za(a,b,c){if(2>b.length?0:0==b.lastIndexOf("--",0))return b;Wa||(Wa=Object.create(null));var d=Wa[b];if(!d||c){d=b;if(void 0===a[b]){var f=b.charAt(0).toUpperCase()+b.slice(1);a:{for(var g=0;g<Xa.length;g++){var h=Xa[g]+f;if(void 0!==a[h]){f=h;break a}}f=""}var k=f;void 0!==a[k]&&(d=k)}c||(Wa[b]=d)}return d}function E(a,b){for(var c in b)a.style.setProperty(Za(b,c),b[c].toString(),"important")}function $a(a,b,c){(b=Za(a.style,b,void 0))&&(a.style[b]=c)}
function ab(a,b){for(var c in b)$a(a,c,b[c])}function bb(a){var b=["height"],c={};b.forEach(function(a){c[a]=null});ab(a,c)};function F(a,b,c){var d;b=a.createElement(b);for(var f in c)"style"==f?ab(b,c[f]):b.setAttribute(f,c[f]);if(null!=d)if("string"==typeof d)b.textContent=d;else if(d.nodeType)b.appendChild(d);else if("length"in d)for(c=0;c<d.length;c++)b.appendChild(d[c]);else D(!1,"Unsupported content: %s",d);return b}function cb(a,b){var c=F(a.getWin().document,"style",{type:"text/css"});c.textContent=b;a.getHead().appendChild(c)}function db(a){var b=a.navigator;return/Edge/i.test(b&&b.userAgent)};/*

 Copyright 2017 The Web Activities Authors. All Rights Reserved.

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS-IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
*/
function G(a){return a&&"object"==typeof a?"AbortError"===a.name:!1}function eb(a,b){b="AbortError"+(b?": "+b:"");var c=null;if("function"==typeof a.DOMException){var d=a.DOMException;try{c=new d(b,"AbortError")}catch(f){}}c||(c=Error(b),c.name="AbortError",c.code=20);return c}function fb(a,b,c,d,f,g){this.code=a;this.data="ok"==a?b:null;this.mode=c;this.origin=d;this.originVerified=f;this.secureChannel=g;this.ok="ok"==a;this.error="failed"==a?Error(String(b)||""):null}var gb;
function hb(a){gb||(gb=document.createElement("a"));gb.href=a;return gb}function ib(a){if(a.origin)return a.origin;var b=a.protocol,c=a.host;"https:"==b&&c.indexOf(":443")==c.length-4?c=c.replace(":443",""):"http:"==b&&c.indexOf(":80")==c.length-3&&(c=c.replace(":80",""));return b+"//"+c}function jb(a){var b=a.indexOf("#");return-1==b?a:a.substring(0,b)}
function kb(a){return a?(/^[?#]/.test(a)?a.slice(1):a).split("&").reduce(function(a,c){var b=c.split("=");c=decodeURIComponent(b[0]||"");var f=decodeURIComponent(b[1]||"");c&&(a[c]=f);return a},{}):{}}function lb(a){var b={requestId:a.requestId,returnUrl:a.returnUrl,args:a.args};void 0!==a.origin&&(b.origin=a.origin);void 0!==a.originVerified&&(b.originVerified=a.originVerified);return JSON.stringify(b)}function mb(a,b,c){b.ok?c(b):(a=b.error||eb(a),a.activityResult=b,c(Promise.reject(a)))}
function nb(a){a=a.navigator;return/Trident|MSIE|IEMobile/i.test(a&&a.userAgent)}function ob(a){a=a.navigator;return/Edge/i.test(a&&a.userAgent)}function pb(a){setTimeout(function(){throw a;})}function qb(a,b,c,d){this.a=a;this.ic=b;this.G=c;this.td=d;this.jc=null;this.sc=!1;this.V=this.Lb=this.Y=this.m=null;this.vc=this.$c.bind(this)}e=qb.prototype;e.connect=function(a){if(this.Y)throw Error("already connected");this.Y=a;this.a.addEventListener("message",this.vc)};
e.disconnect=function(){if(this.Y&&(this.Y=null,this.m&&(rb(this.m),this.m=null),this.a.removeEventListener("message",this.vc),this.V)){for(var a in this.V){var b=this.V[a];b.port1&&rb(b.port1);b.port2&&rb(b.port2)}this.V=null}};e.isConnected=function(){return null!=this.G};e.getTarget=function(){var a=sb(this);if(!a)throw Error("not connected");return a};function sb(a){a.Y&&!a.jc&&(a.jc="function"==typeof a.ic?a.ic():a.ic);return a.jc}
e.getTargetOrigin=function(){if(null==this.G)throw Error("not connected");return this.G};e.sendConnectCommand=function(){var a=nb(this.a)||ob(this.a);this.sendCommand("connect",{acceptsChannel:a})};e.sendStartCommand=function(a){var b=null;this.sc&&"function"==typeof this.a.MessageChannel&&(b=new this.a.MessageChannel);b?(this.sendCommand("start",a,[b.port2]),tb(this,b.port1)):this.sendCommand("start",a)};
e.sendCommand=function(a,b,c){var d={sentinel:"__ACTIVITIES__",cmd:a,payload:b||null};if(this.m)this.m.postMessage(d,c||void 0);else{var f=this.getTarget(),g="connect"==a?null!=this.G?this.G:"*":this.getTargetOrigin();f.postMessage(d,g,c||void 0)}};e.customMessage=function(a){this.sendCommand("msg",a)};e.onCustomMessage=function(a){this.Lb=a};
e.startChannel=function(a){a=a||"";var b=ub(this,a);if(!b.port1){var c=new this.a.MessageChannel;b.port1=c.port1;b.port2=c.port2;b.resolver(b.port1)}b.port2&&(this.sendCommand("cnset",{name:a},[b.port2]),b.port2=null);return b.promise};e.askChannel=function(a){a=a||"";var b=ub(this,a);b.port1||this.sendCommand("cnget",{name:a});return b.promise};
function ub(a,b){a.V||(a.V={});var c=a.V[b];if(!c){var d,c=new Promise(function(a){d=a}),c={port1:null,port2:null,resolver:d,promise:c};a.V[b]=c}return c}function tb(a,b){a.m&&rb(a.m);a.m=b;a.m.onmessage=function(b){var c=b.data,f=c&&c.cmd,c=c&&c.payload||null;f&&a.ma(f,c,b)}}
e.$c=function(a){if(!this.td||sb(this)==a.source){var b=a.data;if(b&&"__ACTIVITIES__"==b.sentinel){var c=b.cmd;if(!this.m||"connect"==c||"start"==c){var d=a.origin,b=b.payload||null;null==this.G&&"start"==c&&(this.G=d);null==this.G&&a.source&&sb(this)==a.source&&(this.G=d);d==this.G&&this.ma(c,b,a)}}}};
e.ma=function(a,b,c){"connect"==a?(this.m&&(rb(this.m),this.m=null),this.sc=b&&b.acceptsChannel||!1,this.Y(a,b)):"start"==a?((c=c.ports&&c.ports[0])&&tb(this,c),this.Y(a,b)):"msg"==a?null!=this.Lb&&null!=b&&this.Lb(b):"cnget"==a?this.startChannel(b.name):"cnset"==a?(a=c.ports[0],b=ub(this,b.name),b.port1=a,b.resolver(a)):this.Y(a,b)};function rb(a){try{a.close()}catch(b){}}
function vb(a,b,c){var d=this;this.j=a;this.ca=b;this.M=c||null;this.a=this.j.ownerDocument.defaultView;this.G=ib(hb(b));this.qb=!1;this.va=null;this.pb=new Promise(function(a){d.va=a});this.$a=null;this.Ea=new Promise(function(a){d.$a=a});this.J=null;this.cb=new Promise(function(a){d.J=a});this.bb=this.Mb=null;this.o=new qb(this.a,function(){return d.j.contentWindow},this.G,!0)}e=vb.prototype;e.getMode=function(){return"iframe"};
e.connect=function(){var a;a=this.j;if("isConnected"in a)a=a.isConnected;else{var b=a.ownerDocument&&a.ownerDocument.documentElement;a=b&&b.contains(a)||!1}if(!a)throw Error("iframe must be in DOM");this.o.connect(this.ma.bind(this));this.j.src=this.ca;return this.pb};e.disconnect=function(){this.qb=!1;this.o.disconnect()};e.acceptResult=function(){return this.cb};e.getTargetWin=function(){return this.j.contentWindow||null};e.message=function(a){this.o.customMessage(a)};e.onMessage=function(a){this.o.onCustomMessage(a)};
e.messageChannel=function(a){return this.o.askChannel(a)};e.whenReady=function(){return this.Ea};e.onResizeRequest=function(a){var b=this;this.Mb=a;Promise.resolve().then(function(){null!=b.bb&&a(b.bb)})};e.resized=function(){this.qb&&this.o.sendCommand("resized",{height:this.j.offsetHeight})};
e.ma=function(a,b){"connect"==a?(this.qb=!0,this.o.sendStartCommand(this.M),this.va()):"result"==a?this.J&&(a=b.code,b=new fb(a,"failed"==a?Error(b.data||""):b.data,"iframe",this.o.getTargetOrigin(),!0,!0),mb(this.a,b,this.J),this.J=null,this.o.sendCommand("close"),this.disconnect()):"ready"==a?this.$a&&(this.$a(),this.$a=null):"resize"==a&&(this.bb=b.height,this.Mb&&this.Mb(this.bb))};
function wb(a,b,c,d,f,g){var h=this,k=d&&("_blank"==d||"_top"==d||"_"!=d[0]);if(!k)throw Error('The only allowed targets are "_blank", "_top" and name targets');this.a=a;this.sd=b;this.ca=c;this.Gc=d;this.M=f||null;this.s=g||{};this.va=null;this.pb=new Promise(function(a){h.va=a});this.J=null;this.cb=new Promise(function(a){h.J=a});this.o=this.ga=this.ba=null}e=wb.prototype;e.getMode=function(){return"_top"==this.Gc?"redirect":"popup"};e.open=function(){return yb(this)};e.whenConnected=function(){return this.pb};
e.disconnect=function(){this.ga&&(this.a.clearInterval(this.ga),this.ga=null);this.o&&(this.o.disconnect(),this.o=null);if(this.ba){try{this.ba.close()}catch(a){}this.ba=null}this.J=null};e.getTargetWin=function(){return this.ba};e.acceptResult=function(){return this.cb};e.message=function(a){this.o.customMessage(a)};e.onMessage=function(a){this.o.onCustomMessage(a)};e.messageChannel=function(a){return this.o.askChannel(a)};
function yb(a){var b=zb(a),c=a.ca;if(!a.s.skipRequestInUrl)var d=a.s.returnUrl||jb(a.a.location.href),f=lb({requestId:a.sd,returnUrl:d,args:a.M}),c=c+(-1==c.indexOf("#")?"#":"&")+encodeURIComponent("__WA__")+"="+encodeURIComponent(f);var g,h=a.Gc;"_top"!=h&&nb(a.a)&&(h="_top");try{g=a.a.open(c,h,b)}catch(k){}if(!g&&"_top"!=h&&!a.s.disableRedirectFallback){h="_top";try{g=a.a.open(c,h)}catch(k){}}g?(a.ba=g,"_top"!=h&&Ab(a)):Bb(a,Error("failed to open window"));return a.cb.catch(function(){})}
function zb(a){var b=a.a.screen,c=b.availWidth||b.width,d=b.availHeight||b.height,f=a.a==a.a.top,g=ob(a.a),h=f&&a.a.outerWidth>a.a.innerWidth?Math.min(100,a.a.outerWidth-a.a.innerWidth):g?100:0,k=f&&a.a.outerHeight>a.a.innerHeight?Math.min(100,a.a.outerHeight-a.a.innerHeight):g?100:0,l=Math.max(c-h,.5*c),p=Math.max(d-k,.5*d),n=Math.floor(Math.min(600,.9*l)),q=Math.floor(Math.min(600,.9*p));a.s.width&&(n=Math.min(a.s.width,l));a.s.height&&(q=Math.min(a.s.height,p));a=Math.floor((b.width-n)/2);b=Math.floor((b.height-
q)/2);n={height:q,width:n,resizable:"yes",scrollbars:"yes"};g||(n.left=a,n.top=b);var q="",B;for(B in n)q&&(q+=","),q+=B+"="+n[B];return q}function Ab(a){a.ga=a.a.setInterval(function(){Cb(a,!0)},500);a.o=new qb(a.a,a.ba,null,!0);a.o.connect(a.ma.bind(a))}function Cb(a,b){if(!a.ba||a.ba.closed)a.ga&&(a.a.clearInterval(a.ga),a.ga=null),a.a.setTimeout(function(){try{Db(a,"canceled",null)}catch(c){Bb(a,c)}},b?3E3:0)}function Bb(a,b){a.J&&a.J(Promise.reject(b));a.disconnect()}
function Db(a,b,c){if(a.J){var d=a.o.isConnected();b=new fb(b,c,"popup",d?a.o.getTargetOrigin():ib(hb(a.ca)),d,d);mb(a.a,b,a.J);a.J=null}a.o&&a.o.sendCommand("close");a.disconnect()}e.ma=function(a,b){var c=this;"connect"==a?(this.o.sendStartCommand(this.M),this.va()):"result"==a?(a=b.code,Db(this,a,"failed"==a?Error(b.data||""):b.data)):"check"==a&&this.a.setTimeout(function(){return Cb(c)},200)};function Eb(a,b,c,d,f){this.a=a;this.Sc=b;this.Xc=c;this.G=d;this.xd=f}Eb.prototype.getMode=function(){return"redirect"};
Eb.prototype.acceptResult=function(){var a=this,b=new fb(this.Sc,this.Xc,"redirect",this.G,this.xd,!1);return new Promise(function(c){mb(a.a,b,c)})};function Fb(a){var b=this;this.version="1.24";this.a=a;this.zc=a.location.hash;this.Xb={};this.F={};this.Kc=null;this.rd=new Promise(function(a){b.Kc=a})}e=Fb.prototype;e.openIframe=function(a,b,c){var d=new vb(a,b,c);return d.connect().then(function(){return d})};e.open=function(a,b,c,d,f){return{targetWin:Gb(this,a,b,c,d,f).getTargetWin()}};
e.openWithMessaging=function(a,b,c,d,f){var g=Gb(this,a,b,c,d,f);return g.whenConnected().then(function(){return g})};
e.onResult=function(a,b){var c=this.Xb[a];c||(c=[],this.Xb[a]=c);c.push(b);var d=this.F[a];if(!d&&this.zc){try{var f=this.a,g=kb(this.zc).__WA_RES__;if(g){var h=JSON.parse(g);if(h&&h.requestId==a){var k;var l=f.location.hash;if(l){var p=encodeURIComponent("__WA_RES__")+"=",g=-1;do if(g=l.indexOf(p,g),-1!=g){var n=0<g?l.substring(g-1,g):"";if(""==n||"?"==n||"#"==n||"&"==n){var q=l.indexOf("&",g+1);-1==q&&(q=l.length);l=l.substring(0,g)+l.substring(q+1)}else g++}while(-1!=g&&g<l.length)}k=l;k=k||"";
if(k!=f.location.hash&&f.history&&f.history.replaceState)try{f.history.replaceState(f.history.state,"",k)}catch(xb){}var B=h.code,I=h.data,Ka=h.origin,se=f.document.referrer&&ib(hb(f.document.referrer)),d=new Eb(f,B,I,Ka,Ka==se)}else d=null}else d=null}catch(xb){pb(xb),this.Kc(xb)}d&&(this.F[a]=d)}var Jc=d;Jc&&Hb(Jc,b)};e.onRedirectError=function(a){this.rd.then(a)};function Gb(a,b,c,d,f,g){var h=new wb(a.a,b,c,d,f,g);h.open().then(function(){Ib(a,b,h)});return h}
function Hb(a,b){Promise.resolve().then(function(){b(a)})}function Ib(a,b,c){var d=a.Xb[b];d&&d.forEach(function(a){Hb(c,a)});a.F[b]=c};function Jb(a){setTimeout(function(){throw a;})};var Kb={frameborder:"0",scrolling:"no"};function H(a,b,c,d,f,g){f=void 0===f?!1:f;g=void 0===g?!1:g;var h=this;this.a=a;this.c=this.a.document;this.j=F(this.c,"iframe",Kb);this.g=b;this.Ha=c;this.M=d||{};this.vd=f;this.cd=g;this.Hc=this.m=null;this.Xa=new Promise(function(a){h.Hc=a})}aa(H,Ja);e=H.prototype;e.getElement=function(){return this.j};e.init=function(a){var b=this;return this.g.openIframe(this.j,this.Ha,this.M).then(function(c){return Lb(b,c,a)})};e.shouldFadeBody=function(){return this.vd};
e.hasLoadingIndicator=function(){return this.cd};function Lb(a,b,c){a.m=b;a.Hc(b);a.m.onResizeRequest(function(b){c.resizeView(a,b)});return a.m.whenReady()}e.on=function(a,b){this.Xa.then(function(c){c.on(a,b)})};e.execute=function(a){this.Xa.then(function(b){b.execute(a)})};e.acceptResult=function(){return this.Xa.then(function(a){return a.acceptResult()})};e.acceptResultAndVerify=function(a,b,c){return this.Xa.then(function(d){return La(d,a,b,c)})};e.whenComplete=function(){return this.acceptResult()};
e.onCancel=function(a){this.acceptResult().catch(function(b){G(b)&&a();throw b;})};e.resized=function(){this.m&&this.m.resized()};function Mb(a){return JSON.parse(a)}function Nb(a,b){try{return Mb(a)}catch(c){b&&b(c)}}function Ob(a){var b=Nb(a);return b&&b.productId||null};function Pb(){}Pb.prototype.decode=function(a){return Qb(a).payload};function Qb(a){function b(){throw Error('Invalid token: "'+a+'"');}var c=a.split(".");3!=c.length&&b();var d=Ta(c[0]),f=Ta(c[1]);return{header:Nb(Ra(d),b),payload:Nb(Ra(f),b),verifiable:c[0]+"."+c[1],sig:c[2]}};function Rb(a,b,c,d,f,g,h,k){this.service=a;this.raw=b;this.entitlements=c;this.isReadyToPay=h||!1;this.decryptedDocumentKey=k||null;this.Tb=d;this.tc=f;this.xc=g}e=Rb.prototype;e.clone=function(){return new Rb(this.service,this.raw,this.entitlements.map(function(a){return a.clone()}),this.Tb,this.tc,this.xc,this.isReadyToPay,this.decryptedDocumentKey)};e.json=function(){return{service:this.service,entitlements:this.entitlements.map(function(a){return a.json()}),isReadyToPay:this.isReadyToPay}};
e.enablesThisWithCacheableEntitlements=function(){var a=this.getEntitlementForThis();return!!a&&"google:metering"!==a.source};e.enablesThisWithGoogleMetering=function(){var a=this.getEntitlementForThis();return!!a&&"google:metering"===a.source};e.enablesThis=function(a){return this.enables(this.Tb,a)};e.enablesAny=function(a){for(var b=0;b<this.entitlements.length;b++)if(0<this.entitlements[b].products.length&&(!a||a==this.entitlements[b].source))return!0;return!1};
e.enables=function(a,b){return a?!!this.getEntitlementFor(a,b):!1};e.getEntitlementForThis=function(a){return this.getEntitlementFor(this.Tb,a)};e.getEntitlementFor=function(a,b){if(!a)return null;var c=this.entitlements.filter(function(c){return c.enables(a)&&(!b||b===c.source)}),d=Na(c,function(a){return"google:metering"!==a.source}),f=Na(c,function(a){return"google:metering"===a.source});return d||f||null};
e.getEntitlementForSource=function(a){if(0<this.entitlements.length)for(var b=0;b<this.entitlements.length;b++)if(this.entitlements[b].subscriptionToken&&a==this.entitlements[b].source)return this.entitlements[b];return null};e.ack=function(){this.tc(this)};e.consume=function(a){this.xc(this,a)};function J(a,b,c){this.source=a;this.products=b;this.subscriptionToken=c}J.prototype.clone=function(){return new J(this.source,this.products.slice(0),this.subscriptionToken)};
J.prototype.json=function(){return{source:this.source,products:this.products,subscriptionToken:this.subscriptionToken}};J.prototype.enables=function(a){if(!a)return!1;var b=a.indexOf(":");return-1!=b&&this.products.includes(a.substring(0,b+1)+"*")?!0:this.products.includes(a)};function Sb(a){var b=Array.isArray(a)?a:[a];return b.map(function(a){a||(a={});return new J(a.source||"",a.products||[],a.subscriptionToken)})}
J.prototype.getSku=function(){if("google"!==this.source)return null;var a=Ob(this.subscriptionToken)||null;a||C("Unable to retrieve SKU from SwG subscription token");return a};function Tb(a,b){this.idToken=a;this.data=b;this.id=b.sub;this.email=b.email;this.emailVerified=b.email_verified;this.name=b.name;this.givenName=b.given_name;this.familyName=b.family_name;this.pictureUrl=b.picture}Tb.prototype.clone=function(){return new Tb(this.idToken,this.data)};Tb.prototype.json=function(){return{id:this.id,email:this.email,emailVerified:this.emailVerified,name:this.name,givenName:this.givenName,familyName:this.familyName,pictureUrl:this.pictureUrl}};function K(a,b,c,d,f,g,h,k){h=void 0===h?null:h;k=void 0===k?null:k;this.raw=a;this.purchaseData=b;this.userData=c;this.entitlements=d;this.productType=f;this.ta=g;this.oldSku=h;this.paymentRecurrence=k}K.prototype.clone=function(){return new K(this.raw,this.purchaseData,this.userData,this.entitlements,this.productType,this.ta,this.oldSku)};
K.prototype.json=function(){return{purchaseData:this.purchaseData.json(),userData:this.userData?this.userData.json():null,entitlements:this.entitlements?this.entitlements.json():null,oldSku:this.oldSku,productType:this.productType}};K.prototype.complete=function(){return this.ta()};function L(a,b){this.data=this.raw=a;this.signature=b}L.prototype.clone=function(){return new L(this.raw,this.signature)};L.prototype.json=function(){return{data:this.raw,signature:this.signature}};var Ub,Vb;
function Wb(a){Ub||(Ub=self.document.createElement("a"),Vb=self.UrlCache||(self.UrlCache=Object.create(null)));var b=Vb[a];if(b)return b;var c=Ub;c.href=a;c.protocol||(c.href=c.href);var d={href:c.href,protocol:c.protocol,host:c.host,hostname:c.hostname,port:"0"==c.port?"":c.port,pathname:c.pathname,search:c.search,hash:c.hash,origin:""};"/"!==d.pathname[0]&&(d.pathname="/"+d.pathname);if("http:"==d.protocol&&80==d.port||"https:"==d.protocol&&443==d.port)d.port="",d.host=d.hostname;d.origin=c.origin&&
"null"!=c.origin?c.origin:"data:"!=d.protocol&&d.host?d.protocol+"//"+d.host:d.href;var f=d;return Vb[a]=f}function Xb(a){return a?(/^[?#]/.test(a)?a.slice(1):a).split("&").reduce(function(a,c){c=c.split("=");try{var b=decodeURIComponent(c[0]||""),f=decodeURIComponent(c[1]||"");b&&(a[b]=f)}catch(g){C("SwG could not parse a URL query param: "+c[0])}return a},{}):{}}
function M(a,b,c){var d=a.indexOf("?"),f=a.indexOf("#"),g="";-1!=f&&(g=a.substring(f),a=a.substring(0,f));-1==d?a+="?":d<a.length-1&&(a+="&");a+=encodeURIComponent(b)+"="+encodeURIComponent(c);return a+g}function Yb(a){return(a=a.getRootNode().querySelector("link[rel='canonical']"))&&a.href||""};var Zb={nocache:1,hr1:36E5,hr12:432E5};function $b(){return Wb("https://news.google.com").origin}function ac(a){return"https://news.google.com/swg/_/api/v1"+a}function N(a,b){a=M("https://news.google.com"+(void 0===b?"":b)+"/swg/_/ui/v1"+a,"_",bc());var c=Xb(self.location.hash)["swg.boqjsmode"];void 0!==c&&(a=M(a,"jsmode",c));return a}function O(a){return Object.assign(a,{_client:"SwG 0.1.22-1606775357619"})}
function bc(){var a="nocache",b=Zb[a];null==b&&(b=1);if(0===b)return"_";var c=Date.now();return String(1>=b?c:Math.floor(c/b))};var cc={UNKNOWN:"unknown",NON_SUBSCRIBER:"non_subscriber",SUBSCRIBER:"subscriber",PAST_SUBSCRIBER:"past_subscriber"},dc={IMPRESSION_PAYWALL:"paywall",IMPRESSION_AD:"ad_shown",IMPRESSION_OFFERS:"offers_shown",ACTION_SUBSCRIPTIONS_LANDING_PAGE:"subscriptions_landing_page",ACTION_OFFER_SELECTED:"offer_selected",ACTION_PAYMENT_FLOW_STARTED:"payment_flow_start",ACTION_PAYMENT_COMPLETED:"payment_complete",EVENT_CUSTOM:"custom"};var ec={GENERAL:"general",PAYWALL:"paywall"};function fc(a,b,c,d){this.entitlements=a;this.userData=b;this.purchaseDataList=c;this.purchaseData=c[0];this.ta=d}fc.prototype.clone=function(){return new fc(this.entitlements,this.userData,this.purchaseDataList,this.ta)};fc.prototype.json=function(){return{entitlements:this.entitlements.json(),userData:this.userData.json(),purchaseDataList:this.purchaseDataList.map(function(a){return a.json()}),purchaseData:this.purchaseData.json()}};fc.prototype.complete=function(){return this.ta()};var gc={IMMEDIATE_WITH_TIME_PRORATION:1},hc={AUTO:1,ONE_TIME:2};function ic(a){return new t([,,,,a])}function jc(a,b,c){c=void 0===c?"SUBSCRIPTION":c;this.b=a;this.Qb=a.payClient();this.I=a.pageConfig();this.h=a.dialogManager();this.Nc=b;this.Ic=c;this.R=a.analytics();this.l=a.eventManager()}
jc.prototype.start=function(){var a=Object.assign({},this.Nc,{publicationId:this.I.getPublicationId()}),b=a.replaceSkuProrationMode;b?a.replaceSkuProrationMode=gc[b]:a.oldSku&&(a.replaceSkuProrationMode=gc.IMMEDIATE_WITH_TIME_PRORATION);a.oneTime&&(a.paymentRecurrence=hc.ONE_TIME,delete a.oneTime);var c="UI_CONTRIBUTION"==this.Ic?"contribute":"subscribe";this.b.callbacks().triggerFlowStarted(c,this.Nc);a.oldSku&&this.R.setSku(a.oldSku);this.l.logSwgEvent(1005,!0,ic(a.skuId));kc=!0;this.Qb.start({apiVersion:1,
allowedPaymentMethods:["CARD"],environment:"SANDBOX",playEnvironment:"STAGING",swg:a,i:{startTimeMs:Date.now(),productType:this.Ic}},{forceRedirect:"redirect"==this.b.config().windowOpenMode});return Promise.resolve()};function lc(a){this.a=a.win();this.b=a;this.g=a.activities();this.h=a.dialogManager();this.Ea=this.$=this.f=null;this.R=a.analytics();this.l=a.eventManager();this.w=null}
function mc(a){var b=a.eventManager();a.payClient().onResponse(function(c){a.entitlementsManager().blockNextNotification();var d=new lc(a),f=nc(a,c,d.complete.bind(d));a.callbacks().triggerPaymentResponse(f);return f.then(function(c){var f=Ob(c.purchaseData.raw)||null;a.analytics().setSku(f||"");b.logSwgEvent(1001,!0,ic(f||""));d.start(c)},function(b){if(G(b))b="UI_CONTRIBUTION"==b.productType?"contribute":"subscribe",a.callbacks().triggerFlowCanceled(b),a.eventManager().logSwgEvent(1014,!0);else throw a.eventManager().logSwgEvent(2E3,
!1),a.jserror().error("Pay failed",b),b;})})}
lc.prototype.start=function(a){var b=this;this.w=Ob(a.purchaseData.raw)||null;this.l.logSwgEvent(10,!0,ic(this.w||""));this.b.entitlementsManager().reset(!0);this.$=a;var c={publicationId:this.b.pageConfig().getPublicationId(),productType:this.$.productType,isSubscriptionUpdate:!!this.$.oldSku,isOneTime:!!this.$.paymentRecurrence};a.userData&&a.entitlements?(c.idToken=a.userData.idToken,this.b.entitlementsManager().pushNextEntitlements(a.entitlements.raw)):c.loginHint=a.userData&&a.userData.email;
this.f=new H(this.a,this.g,N("/payconfirmiframe"),O(c),!0);this.f.on(u,this.Zc.bind(this));this.f.acceptResult().then(function(){b.h.completeView(b.f)});return this.Ea=this.h.openView(this.f)};lc.prototype.Zc=function(a){var b=a.getJwt();b&&this.b.entitlementsManager().pushNextEntitlements(b)};
lc.prototype.complete=function(){var a=this;this.l.logSwgEvent(1002,!0,ic(this.w||""));this.b.entitlementsManager().unblockNextNotification();this.Ea.then(function(){var b=new r;b.setComplete(!0);a.f.execute(b)});return this.f.acceptResult().catch(function(){}).then(function(){a.l.logSwgEvent(1003,!0,ic(a.w||""));a.b.entitlementsManager().setToastShown(!0)})};var kc=!1;
function nc(a,b,c){var d=!kc;kc=!1;return b.then(function(b){var f,h=void 0;if("object"===typeof b&&b.googleTransactionId){var k=a.analytics().getTransactionId(),l=b.googleTransactionId;d?(a.analytics().setTransactionId(l),f=3004):k===l?f=3001:(h=new t,h.setGpayTransactionId(l),f=3002)}else h=new t,h.setHadLogged(!d),f=3003;a.eventManager().logSwgEvent(f,!0,h);var p=null,n=null;f="SUBSCRIPTION";var q=null,B=null;b&&("string"==typeof b?n=b:("swgCallbackData"in b?p=b.swgCallbackData:"integratorClientCallbackData"in
b&&(n=b.integratorClientCallbackData),"paymentRequest"in b&&(q=(b.paymentRequest.swg||{}).oldSku,B=(b.paymentRequest.swg||{}).paymentRecurrence,f=(b.paymentRequest.i||{}).productType||"SUBSCRIPTION")));n&&!p&&(n=atob(n))&&(p=Mb(n).swgCallbackData);if(!p)throw Error("unexpected payment response");b=n=JSON.stringify(p);var n=new L(p.purchaseData,p.purchaseDataSignature),I;if(I=p.idToken){var Ka=(new Pb).decode(I);I=new Tb(I,Ka)}else I=null;p=p.signedEntitlements?a.entitlementsManager().parseEntitlements(p):
null;return new K(b,n,I,p,f,c,q,B)})};function P(a,b){this.b=a;this.a=a.win();this.g=a.activities();this.h=a.dialogManager();this.l=a.eventManager();var c=b&&b.isClosable;void 0==c&&(c=!1);var d=a.activities().addDefaultArguments({showNative:a.callbacks().hasSubscribeRequestCallback(),productType:"SUBSCRIPTION",list:b&&b.list||"default",skus:b&&b.skus||null,isClosable:c});if(b&&b.oldSku){d.oldSku=b.oldSku;D(d.skus,"Need a sku list if old sku is provided!");var f=d.skus,g=d.oldSku,f=f.filter(function(a){return a!==g});D(0<f.length,"Sku list only contained offer user already has");
d.skus=f}if(d.skus&&1===d.skus.length&&(a=d.skus[0],b=d.oldSku)){var h=new Ha;h.setSku(a);h.setOldSku(b);this.eb(h);return}this.wd=d.skus||["*"];this.f=new H(this.a,this.g,N("/offersiframe"),d,!0)}P.prototype.eb=function(a){var b=a.getSku();if(b){var c={skuId:b};if(a=a.getOldSku())c.oldSku=a,this.b.analytics().setSku(a);this.l.logSwgEvent(1006,!0,new t([,,,,b]));(new jc(this.b,c)).start()}};P.prototype.ya=function(a){a.getSubscriberOrMember()&&(this.l.logSwgEvent(1009,!0),this.b.callbacks().triggerLoginRequest({linkRequested:!!a.getLinkRequested()}))};
P.prototype.fc=function(a){a.getNative()&&this.b.callbacks().triggerSubscribeRequest()};P.prototype.start=function(){var a=this;return this.f?(this.b.callbacks().triggerFlowStarted("showOffers",{skus:this.wd,source:"SwG"}),this.f.onCancel(function(){a.b.callbacks().triggerFlowCanceled("showOffers")}),this.f.on(Ha,this.eb.bind(this)),this.f.on(ya,this.ya.bind(this)),this.f.on(z,this.fc.bind(this)),this.h.openView(this.f)):Promise.resolve()};
function oc(a,b){this.b=a;this.s=b;this.g=a.activities();this.h=a.dialogManager();this.l=a.eventManager();this.f=new H(a.win(),this.g,N("/optionsiframe"),O({publicationId:a.pageConfig().getPublicationId(),productId:a.pageConfig().getProductId(),list:b&&b.list||"default",skus:b&&b.skus||null,isClosable:!0}),!1)}
oc.prototype.start=function(){var a=this;this.b.callbacks().triggerFlowStarted("showSubscribeOption");this.f.onCancel(function(){a.b.callbacks().triggerFlowCanceled("showSubscribeOption")});this.f.on(x,this.Ec.bind(this));this.f.acceptResult().then(function(b){b=b.data;var c=new x;b.subscribe&&c.setSubscribe(!0);a.Ec(c)},function(b){a.h.completeView(a.f);throw b;});this.l.logSwgEvent(7);return this.h.openView(this.f)};
oc.prototype.Ec=function(a){a.getSubscribe()&&(a=this.s||{},void 0==a.isClosable&&(a.isClosable=!0),this.l.logSwgEvent(1008,!0),(new P(this.b,a)).start())};
function pc(a,b){b=void 0===b?{}:b;this.b=a;this.s=b;this.a=a.win();this.g=a.activities();this.h=a.dialogManager();this.l=a.eventManager();this.f=new H(this.a,this.g,N("/abbrvofferiframe"),O({publicationId:a.pageConfig().getPublicationId(),productId:a.pageConfig().getProductId(),showNative:a.callbacks().hasSubscribeRequestCallback(),list:b&&b.list||"default",skus:b&&b.skus||null,isClosable:!0}),!1)}pc.prototype.ya=function(a){a.getSubscriberOrMember()&&(this.l.logSwgEvent(1009,!0),this.b.callbacks().triggerLoginRequest({linkRequested:!!a.getLinkRequested()}))};
pc.prototype.start=function(){var a=this;this.b.callbacks().triggerFlowStarted("showAbbrvOffer");this.f.onCancel(function(){a.b.callbacks().triggerFlowCanceled("showAbbrvOffer")});this.f.on(ya,this.ya.bind(this));this.f.acceptResult().then(function(b){b.data.viewOffers?(b=a.s||{},void 0==b.isClosable&&(b.isClosable=!0),a.l.logSwgEvent(1008,!0),(new P(a.b,b)).start()):b.data["native"]&&(a.b.callbacks().triggerSubscribeRequest(),a.h.completeView(a.f))});this.l.logSwgEvent(8);return this.h.openView(this.f)};function qc(a){this.m=a}qc.prototype.acceptResult=function(){return this.m.acceptResult()};function rc(a,b,c,d){this.U=new vb(a,b,d);this.kb={};this.b=c}e=rc.prototype;e.whenReady=function(){return this.U.whenReady()};
e.connect=function(){var a=this;return this.U.connect().then(function(){a.U.onMessage(function(b){var c=b&&b.RESPONSE;if(c&&(b=a.kb[c[0]])){a:{var d=c?c[0]:null;if(d&&(d=Ia[d])){c=new d(c);break a}throw Error("Deserialization failed for "+c);}b(c)}});if(a.b&&a.b.eventManager())a.on(Ba,function(b){a.b.eventManager().logEvent({eventType:b.getEvent(),eventOriginator:4,isFromUserAction:b.getMeta().getIsFromUserAction(),additionalParameters:b.getParams()})})})};e.disconnect=function(){this.U.disconnect()};
e.getMode=function(){return this.U.getMode()};e.acceptResult=function(){return this.U.acceptResult()};e.onResizeRequest=function(a){return this.U.onResizeRequest(a)};e.execute=function(a){this.U.message({REQUEST:a.toArray()})};e.on=function(a,b){var c=null;try{c=(new a).label()}catch(d){c=null}if(!c)throw Error("Invalid data type");if(this.kb[c])throw Error("Invalid type or duplicate callback for ",c);this.kb[c]=b};e.resized=function(){this.U.resized()};
function sc(a){this.b=a;this.g=new Fb(a.win())}e=sc.prototype;e.addDefaultArguments=function(a){var b=this.b,c=b.pageConfig(),b=b.analytics().getContext();return Object.assign({analyticsContext:b.toArray(),publicationId:c.getPublicationId(),productId:c.getProductId(),_client:"SwG 0.1.22-1606775357619",supportsEventManager:!0},a||{})};function tc(a,b,c,d){var f=new rc(b,c,a.b,d);return f.connect().then(function(){return f})}
e.openIframe=function(a,b,c,d){(d=void 0===d?!1:d)&&(c=this.addDefaultArguments(c));return tc(this,a,b,c)};e.open=function(a,b,c,d,f,g){(void 0===g?0:g)&&(d=this.addDefaultArguments(d));return this.g.open(a,b,c,d,f)};e.onResult=function(a,b){this.g.onResult(a,function(a){b(new qc(a))})};e.onRedirectError=function(a){this.g.onRedirectError(a)};e.getOriginalWebActivityPorts=function(){return this.g};function Q(a){return"[object Object]"===Object.prototype.toString.call(a)}function uc(a,b){for(var c in a)if(a[c]===b)return!0;return!1}function vc(a){return"boolean"===typeof a};function wc(a,b){return"Event has an invalid "+a+"("+b+")"}
function xc(a){if(!Q(a))throw Error("Event must be a valid object");if(!uc(wa,a.eventType))throw Error(wc("eventType",a.eventType));if(!uc(xa,a.eventOriginator))throw Error(wc("eventOriginator",a.eventOriginator));if(!Q(a.additionalParameters)&&null!=a.additionalParameters)throw Error(wc("additionalParameters",a.additionalParameters));if(null!=a.isFromUserAction&&!vc(a.isFromUserAction))throw Error(wc("isFromUserAction",a.isFromUserAction));}
function yc(a){this.Eb=[];this.wb=[];this.Cb=null;this.Ac=a}e=yc.prototype;e.registerEventListener=function(a){if("function"!==typeof a)throw Error("Event manager listeners must be a function");this.Eb.push(a)};e.registerEventFilterer=function(a){if("function"!==typeof a)throw Error("Event manager filterers must be a function");this.wb.push(a)};
e.logEvent=function(a){var b=this;xc(a);this.Cb=this.Ac.then(function(){for(var c=0;c<b.wb.length;c++)try{if(1===b.wb[c](a))return Promise.resolve()}catch(d){A(d)}for(c=0;c<b.Eb.length;c++)try{b.Eb[c](a)}catch(d){A(d)}return Promise.resolve()})};e.logSwgEvent=function(a,b,c){b=void 0===b?!1:b;this.logEvent({eventType:a,eventOriginator:1,isFromUserAction:b,additionalParameters:void 0===c?null:c})};e.getReadyPromise=function(){return this.Ac};var zc=null;
function Ac(a){if(!zc){zc={};var b="";try{var c=Xb(a.location.hash)["swg.experiments"];c&&(b+=","+c)}catch(d){Jb(d)}b.split(",").forEach(function(b){if(b=b.trim())try{var c=b;b=zc;var d,h,k=!1,l=c.indexOf(":");-1==l?(d=c,h=100,k=!1):(d=c.substring(0,l).trim(),c=c.substring(l+1),"c"==c.substring(c.length-1)&&(k=!0,c=c.substring(0,c.length-1)),h=parseInt(c,10));if(isNaN(h))throw Error("invalid fraction");var p;if(99<h)p=!0;else if(1>h)p=!1;else if(a.sessionStorage){k=k&&20>=h;try{var l=
"subscribe.google.com:e:"+d+":"+h+(k?"c":""),n,q=a.sessionStorage.getItem(l);n="e"==q?"e":"c"==q?"c":null;!n&&100*a.Math.random()<=h*(k?2:1)&&(n=(k?.5>=a.Math.random():1)?"e":"c",a.sessionStorage.setItem(l,n));p=!!n;"c"==n&&(d="c-"+d)}catch(B){p=!1,Jb(B)}}else p=!1;b[d]=p}catch(B){Jb(B)}})}return zc}function Bc(a,b){return Ac(a)[b]||!1}function Cc(a){a=Ac(a);var b=[],c;for(c in a)a[c]&&b.push(c);return b};var Dc={opacity:"0",position:"absolute",top:"-10px",left:"-10px",height:"1px",width:"1px"};function Ec(a){var b=new Fa;b.setComplete(!1);b.setError(a);return b}
function Fc(a,b){this.C=b;this.c=a.doc();this.b=a;this.g=a.activities();this.j=F(this.c.getWin().document,"iframe",{});E(this.j,Dc);this.c.getBody().appendChild(this.getElement());this.yc=!1;var c=this.v=new za;Bc(this.c.getWin(),"update-google-transaction-id")?c.setTransactionId(Ua()+".swg"):c.setTransactionId(Ua());c.setReferringOrigin(Wb(this.c.getWin().document.referrer).origin);c.setClientVersion("SwG 0.1.22-1606775357619");c.setUrl(Yb(this.c));var d=Xb(this.c.getWin().location.search),f=
d.utm_campaign,g=d.utm_medium,d=d.utm_source;f&&c.setUtmCampaign(f);g&&c.setUtmMedium(g);d&&c.setUtmSource(d);this.Cb=this.bc=null;this.l=a.eventManager();this.l.registerEventListener(this.zb.bind(this));this.gb=0;this.Za=this.Ra=null;this.Fb=!1;this.Ia=null}e=Fc.prototype;e.setTransactionId=function(a){var b=this.v.getTransactionId();this.v.setTransactionId(a);if(null!=b&&b!=a){var c=new t;c.setOldTransactionId(b);this.l.logSwgEvent(3006,!0,c)}};e.getTransactionId=function(){return this.v.getTransactionId()};
e.getSku=function(){return this.v.getSku()};e.setSku=function(a){this.v.setSku(a)};e.setUrl=function(a){this.v.setUrl(a)};e.addLabels=function(a){if(a&&0<a.length){var b=[].concat(this.v.getLabelList());a.forEach(function(a){-1==b.indexOf(a)&&b.push(a)});this.v.setLabelList(b)}};e.getElement=function(){return this.j};
e.start=function(){var a=this;this.bc||(this.addLabels(Cc(this.c.getWin())),this.bc=this.g.openIframe(this.j,N("/serviceiframe"),null,!0).then(function(b){b.on(Fa,a.ib.bind(a));return b.whenReady().then(function(){a.addLabels(Cc(a.c.getWin()));return b})},function(b){a.Fb=!0;a.ib(Ec("Could not connect ["+b+"]"))}));return this.bc};e.setReadyToPay=function(a){this.v.setReadyToPay(a)};e.close=function(){this.c.getBody().removeChild(this.getElement())};e.getContext=function(){return this.v};
e.zb=function(a){var b=this;4E3!==a.eventType&&(3!==a.eventOriginator&&5!==a.eventOriginator&&2!==a.eventOriginator||!0===this.b.config().enableSwgAnalytics||11===a.eventType&&2===a.eventOriginator)&&(this.gb++,this.Cb=this.start().then(function(c){var d=new Aa;d.setEventOriginator(a.eventOriginator);d.setIsFromUserAction(a.isFromUserAction);var f=new Ba;f.setEvent(a.eventType);f.setContext(b.v);f.setMeta(d);a.additionalParameters instanceof t&&f.setParams(a.additionalParameters);var g=f;c.execute(g);
Bc(b.c.getWin(),"logging-beacon")&&(c=encodeURIComponent(b.b.pageConfig().getPublicationId()),c=ac("/publication/"+c+"/clientlogs"),b.C.sendBeacon(c,g))}))};e.ib=function(a){var b=a&&a.getComplete()||!1;a=a&&a.getError()||"Unknown logging Error";var c="AnalyticsService timed out waiting for a response"===a;b||A("Error when logging: "+a);this.gb--;c||(this.yc=!0);null!==this.Ra&&(0===this.gb||this.Fb||c)&&(null!==this.Ia&&(clearTimeout(this.Ia),this.Ia=null),this.Ra(b),this.Ra=this.Za=null)};
e.getLoggingPromise=function(){var a=this;if(0===this.gb||this.Fb)return Promise.resolve(!0);if(null===this.Za){this.Za=new Promise(function(b){a.Ra=b});var b=this.ib.bind(this);this.Ia=setTimeout(function(){a.Ia=null;b(Ec("AnalyticsService timed out waiting for a response"))},this.yc?200:500)}return this.Za};var Gc={frameborder:"0",scrolling:"no"};function Hc(a,b,c,d){this.b=a;this.a=a.win();this.c=this.a.document;this.g=a.activities();this.j=F(this.c,"iframe",Gc);this.Qc=b;this.s=c;this.K=d;this.Ha=N("/smartboxiframe");var f={productId:this.b.pageConfig().getProductId(),publicationId:this.b.pageConfig().getPublicationId(),theme:this.s&&this.s.theme||"light",lang:this.s&&this.s.lang||"en"},g=this.s&&this.s.messageTextColor;g&&(f.messageTextColor=g);this.M=O(f)}
Hc.prototype.bd=function(a){if(a&&a.getIsClicked()){if(!this.K)throw Error("No callback!");this.K()}};Hc.prototype.start=function(){var a=this;E(this.j,{opacity:1,position:"absolute",top:0,bottom:0,left:0,height:"100%",right:0,width:"100%"});this.Qc.appendChild(this.j);var b=this.g.addDefaultArguments(this.M);this.g.openIframe(this.j,this.Ha,b).then(function(b){b.on(w,a.bd.bind(a))});return this.j};function Ic(a){var b=Kc,c=b.en;if("object"!==typeof b||!a)return c;var d;"string"===typeof a?d=a:(d=a,d=d.lang?d.lang:d.ownerDocument&&d.ownerDocument.documentElement.lang?d.ownerDocument.documentElement.lang:"en");for(var f=d,f=f.toLowerCase(),f=f.replace(/_/g,"-"),g=f.split("-");g.length;){d=g.join("-");if(d in b)return b[d];g.pop()}return c};var Kc={en:"Subscribe with Google",ar:"Google \u0627\u0634\u062a\u0631\u0643\u00a0\u0645\u0639",de:"Abonnieren mit Google",es:"Suscr\u00edbete con Google","es-latam":"Suscr\u00edbete con Google","es-latn":"Suscr\u00edbete con Google",fr:"S'abonner avec Google",hi:"Google \u0915\u0947 \u095b\u0930\u093f\u092f\u0947 \u0938\u0926\u0938\u094d\u092f\u0924\u093e",id:"Berlangganan dengan Google",it:"Abbonati con Google",jp:"Google \u3067\u8cfc\u8aad",ko:"Google \uc744 \ud1b5\ud55c\uad6c\ub3c5",ms:"Langgan dengan Google",
nl:"Abonneren via Google",no:"Abonner med Google",pl:"Subskrybuj z Google",pt:"Subscrever com o Google","pt-br":"Assine com o Google",ru:"\u041f\u043e\u0434\u043f\u0438cka \u0447\u0435\u0440\u0435\u0437 Google",se:"Prenumerera med Google",th:"\u0e2a\u0e21\u0e31\u0e04\u0e23\u0e1f\u0e32\u0e19 Google",tr:"Google ile Abone Ol",uk:"\u041f\u0456\u0434\u043f\u0438\u0441\u0430\u0442\u0438\u0441\u044f \u0447\u0435\u0440\u0435\u0437 Google","zh-tw":"\u900f\u904e Google \u8a02\u95b1"};
function Lc(a,b){this.c=a;this.Vc=b}Lc.prototype.init=function(){var a=this.c.getHead();if(a){var b=a.querySelector('link[href="/assets/swg-button.css"]');b||a.appendChild(F(this.c.getWin().document,"link",{rel:"stylesheet",type:"text/css",href:"/assets/swg-button.css"}))}};Lc.prototype.create=function(a,b){var c=F(this.c.getWin().document,"button",{});return this.attach(c,a,b)};
Lc.prototype.attach=function(a,b,c){b=Mc(this,a,b,c).options;var d=b.theme;a.classList.add("swg-button-"+d);a.setAttribute("role","button");b.lang&&a.setAttribute("lang",b.lang);a.setAttribute("title",Ic(a)||"");Nc(this,6);return a};function Nc(a,b,c){a.Vc.then(function(a){a.eventManager().logSwgEvent(b,c)})}function Oc(a){a=a&&"function"!=typeof a?a:{theme:"light"};var b=a.theme;"light"!==b&&"dark"!==b&&(a.theme="light");return a}
function Mc(a,b,c,d){function f(b){Nc(a,1007,!0);"function"===typeof h&&h(b)}var g=Oc(c),h=("function"==typeof c?c:null)||d;b.addEventListener("click",f);return{options:g,clickFun:f}}Lc.prototype.attachSmartButton=function(a,b,c,d){c=Mc(this,b,c,d);b.classList.add("swg-smart-button");return(new Hc(a,b,c.options,c.clickFun)).start()};function Pc(){this.u={};this.F={};this.od=null}e=Pc.prototype;e.setOnEntitlementsResponse=function(a){R(this,1,a)};e.triggerEntitlementsResponse=function(a){return S(this,1,a.then(function(a){return a.clone()}))};e.hasEntitlementsResponsePending=function(){return!!this.F[1]};e.setOnLoginRequest=function(a){R(this,4,a)};e.triggerLoginRequest=function(a){return S(this,4,a)};e.setOnLinkProgress=function(a){R(this,5,a)};e.triggerLinkProgress=function(){return S(this,5,!0)};
e.resetLinkProgress=function(){5 in this.F&&delete this.F[5]};e.setOnLinkComplete=function(a){R(this,6,a)};e.triggerLinkComplete=function(){return S(this,6,!0)};e.hasLinkCompletePending=function(){return!!this.F[6]};e.setOnSubscribeRequest=function(a){R(this,2,a)};e.triggerSubscribeRequest=function(){return S(this,2,!0)};e.hasSubscribeRequestCallback=function(){return!!this.u[2]};
e.setOnSubscribeResponse=function(a){C("[swg.js:setOnSubscribeResponse]: This method has been deprecated, please switch usages to 'setOnPaymentResponse'");R(this,3,a)};e.setOnContributionResponse=function(a){C("[swg.js:setOnContributionResponse]: This method has been deprecated, please switch usages to 'setOnPaymentResponse'");R(this,3,a)};e.setOnPaymentResponse=function(a){R(this,3,a)};
e.triggerPaymentResponse=function(a){var b=this;this.od=a.then(function(a){S(b,3,Promise.resolve(a.clone()))},function(a){if(!G(a))throw a;});return!!this.u[3]};e.hasPaymentResponsePending=function(){return!!this.F[3]};e.setOnFlowStarted=function(a){R(this,7,a)};e.triggerFlowStarted=function(a,b){b=void 0===b?{}:b;return S(this,7,{flow:a,data:b})};e.setOnFlowCanceled=function(a){R(this,8,a)};e.triggerFlowCanceled=function(a,b){b=void 0===b?{}:b;return S(this,8,{flow:a,data:b})};
function R(a,b,c){a.u[b]&&C("[swg.js]: You have registered multiple callbacks for the same response.");a.u[b]=c;b in a.F&&Qc(a,b,c,a.F[b])}function S(a,b,c){a.F[b]=c;var d=a.u[b];d&&Qc(a,b,d,c);return!!d}function Qc(a,b,c,d){Promise.resolve().then(function(){c(d);b in a.F&&delete a.F[b]})};function Rc(a,b){this.b=a;this.s=b;this.a=a.win();this.g=a.activities();this.h=a.dialogManager();var c=b&&b.isClosable||!0;this.f=new H(this.a,this.g,N("/contributionsiframe"),O({productId:a.pageConfig().getProductId(),publicationId:a.pageConfig().getPublicationId(),productType:"UI_CONTRIBUTION",list:b&&b.list||"default",skus:b&&b.skus||null,isClosable:c}),!0)}Rc.prototype.ya=function(a){a.getSubscriberOrMember()&&this.b.callbacks().triggerLoginRequest({linkRequested:!!a.getLinkRequested()})};
Rc.prototype.eb=function(a){var b=a.getSku(),c=a.getOneTime();if(b){var d={skuId:b};c&&(d.oneTime=c);(new jc(this.b,d,"UI_CONTRIBUTION")).start()}};Rc.prototype.start=function(){var a=this;this.b.callbacks().triggerFlowStarted("showContributionOptions");this.f.onCancel(function(){a.b.callbacks().triggerFlowCanceled("showContributionOptions")});this.f.on(ya,this.ya.bind(this));this.f.on(Ha,this.eb.bind(this));return this.h.openView(this.f)};function Sc(a,b){this.b=a;this.a=a.win();this.g=a.activities();this.h=a.dialogManager();this.Z=this.f=null;var c={entitlements:null,consent:!0};this.s=Object.assign(c,b||{})}
Sc.prototype.start=function(){var a=this,b=this.s.entitlements;if(!b||!b.getEntitlementForSource("google"))throw Error('No entitlements with "google" source');this.b.callbacks().triggerFlowStarted("completeDeferredAccountCreation");this.f=new H(this.a,this.g,N("/recoveriframe"),O({publicationId:this.b.pageConfig().getPublicationId(),productId:this.b.pageConfig().getProductId(),entitlements:b&&b.raw||null,consent:this.s.consent}),!0);this.Z=this.h.openView(this.f);return this.f.acceptResult().then(function(b){return Tc(a,
b.data)},function(b){G(b)?a.b.callbacks().triggerFlowCanceled("completeDeferredAccountCreation"):a.h.completeView(a.f);throw b;})};
function Tc(a,b){a.b.entitlementsManager().blockNextNotification();var c=b.entitlements,d=b.idToken,f=b.productType,g=a.b.entitlementsManager().parseEntitlements({signedEntitlements:c}),d=new Tb(d,(new Pb).decode(d));b=b.purchaseDataList?b.purchaseDataList.map(function(a){return new L(a.data,a.signature)}):[new L(b.purchaseData.data,b.purchaseData.signature)];var h=new lc(a.b),k=h.complete.bind(h),k=new fc(g,d,b,k);a.b.eventManager().logSwgEvent(1010,!0);h.start(new K("",b[0],d,g,f,function(){return Promise.resolve()}));
return k};var Uc={frameborder:0,scrolling:"no",src:"about:blank"};function Vc(a,b){b=void 0===b?{}:b;var c=this,d=Object.assign({},Uc,b);this.j=F(a,"iframe",d);E(this.j,Ya);this.ab=new Promise(function(a){c.j.onload=a})}e=Vc.prototype;e.whenReady=function(){return this.ab};e.getElement=function(){return this.j};e.getDocument=function(){var a=this.getElement().contentDocument||this.getElement().contentWindow&&this.getElement().contentWindow.document;if(!a)throw Error("not loaded");return a};e.getBody=function(){return this.getDocument().body};
e.isConnected=function(){var a;a=this.getElement();if("isConnected"in a)a=a.isConnected;else{var b=a.ownerDocument&&a.ownerDocument.documentElement;a=b&&b.contains(a)||!1}return a};function T(a,b,c){var d="ease-out",f=a.ownerDocument.defaultView,g=a.style.transition||"";return(new Promise(function(g){f.setTimeout(function(){f.setTimeout(g,c);var h=c+"ms "+d;E(a,Object.assign({transition:"transform "+h+", opacity "+h},b))})})).then(function(){E(a,{transition:g})})};function Wc(a,b){this.c=a;this.O=this.c.getWin().document.createElement("swg-popup-background");E(this.O,{"z-index":b,display:"none",position:"fixed",top:0,right:0,bottom:0,left:0,"background-color":"rgba(32, 33, 36, .6)"})}e=Wc.prototype;e.getElement=function(){return this.O};e.isAttached=function(){return!!this.O.parentNode};e.attach=function(){this.c.getBody().appendChild(this.O)};e.destroy=function(){this.c.getBody().removeChild(this.O)};
e.show=function(a){a=void 0===a?!0:a;E(this.O,{display:"block",opacity:a?0:1});if(a)return T(this.O,{opacity:1},300)};e.hide=function(a){var b=this;if(void 0===a||a)return T(this.O,{opacity:0},300).then(function(){E(b.O,{display:"none"})});E(this.O,{display:"none"})};function Xc(a){this.c=a;this.Aa=F(this.c,"swg-loading-container",{});this.Dc=F(this.c,"swg-loading",{});this.Aa.appendChild(this.Dc);this.Aa.style.setProperty("display","none","important");var b=this.Dc;a=F(this.c,"swg-loading-animate",{});b.appendChild(a);b=F(this.c,"swg-loading-image",{});a.appendChild(b)}Xc.prototype.getElement=function(){return this.Aa};Xc.prototype.show=function(){this.Aa.style.removeProperty("display")};
Xc.prototype.hide=function(){this.Aa.style.setProperty("display","none","important")};function Yc(a){var b=a.readyState;return"loading"!=b&&"uninitialized"!=b}function Zc(a,b){if(Yc(a))b(a);else{var c=!1,d=function(){Yc(a)&&!c&&(b(a),c=!0,a.removeEventListener("readystatechange",d))};a.addEventListener("readystatechange",d)}}function $c(a){return new Promise(function(b){Zc(a,b)})};function ad(a){var b=!!a.document;this.a=b?a:a.defaultView;this.c=b?a.document:a}e=ad.prototype;e.getWin=function(){return this.a};e.getRootNode=function(){return this.c};e.getRootElement=function(){return this.c.documentElement};e.getHead=function(){return this.c.head};e.getBody=function(){return this.c.body};e.isReady=function(){return Yc(this.c)};e.whenReady=function(){return $c(this.c)};e.addToFixedLayer=function(){return Promise.resolve()};
function bd(a){return 9===a.nodeType||a.document?new ad(a):a};var cd={"min-height":"50px",border:"none",display:"block",position:"fixed","z-index":2147483647,"box-sizing":"border-box"},dd={position:"absolute",top:"0",left:"0",right:"0",bottom:"0",opacity:0,height:0,"max-height":"100%","max-width":"100%","min-height":"100%","min-width":"100%",width:0};
function ed(a,b,c){b=void 0===b?{}:b;c=void 0===c?{}:c;this.c=a;this.j=new Vc(a.getWin().document,{"class":"swg-dialog"});this.X=new Wc(a,2147483646);var d=Object.assign({},cd,b);E(this.j.getElement(),d);ab(this.j.getElement(),c);this.ea=this.qa=this.Oa=this.Qa=null;this.Pa=!1;this.Ya=null;this.yd=!1}e=ed.prototype;
e.open=function(a){a=void 0===a?!1:a;var b=this,c=this.j;if(c.isConnected())throw Error("already opened");this.c.getBody().appendChild(c.getElement());this.X.attach();a?(E(c.getElement(),{visibility:"hidden",opacity:0}),this.Pa=a):fd(this);return this.yd?this.c.addToFixedLayer(c.getElement()).then(function(){return c.whenReady()}).then(function(){gd(b);return b}):c.whenReady().then(function(){gd(b);return b})};
function gd(a){var b=a.j.getBody(),c=a.j.getDocument();cb(bd(c),"body{padding:0;margin:0}swg-container,swg-loading,swg-loading-animate,swg-loading-image{display:block}swg-loading-container{width:100%!important;display:-ms-flexbox!important;display:flex!important;-ms-flex-align:center!important;align-items:center!important;-ms-flex-pack:center!important;justify-content:center!important;min-height:148px!important;height:100%!important;bottom:0!important;margin-top:5px!important;z-index:2147483647!important}@media (min-height:630px), (min-width:630px){swg-loading-container{width:560px!important;margin-left:35px!important;border-top-left-radius:8px!important;border-top-right-radius:8px!important;background-color:#fff!important;box-shadow:0 1px 1px rgba(60,64,67,.3),0 1px 4px 1px rgba(60,64,67,.15)!important}}swg-loading{z-index:2147483647!important;width:36px;height:36px;overflow:hidden;animation:mspin-rotate 1568.63ms linear infinite}swg-loading-animate{animation:mspin-revrot 5332ms steps(4) infinite}swg-loading-image{background-image:url(/assets/loader.svg);background-size:100%;width:11664px;height:36px;animation:swg-loading-film 5332ms steps(324) infinite}@keyframes swg-loading-film{0%{transform:translateX(0)}to{transform:translateX(-11664px)}}@keyframes mspin-rotate{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}@keyframes mspin-revrot{0%{transform:rotate(0deg)}to{transform:rotate(-1turn)}}\n/*# sourceURL=/./src/ui/ui.css*/");a.Qa=
new Xc(c);b.appendChild(a.Qa.getElement());a.Oa=F(c,"swg-container",{});b.appendChild(a.Oa);E(a.getElement(),hd())}e.close=function(a){var b=this,c;c=void 0===a||a?this.da(function(){b.X.hide(!0);return T(b.getElement(),{transform:"translateY(100%)"},300)}):Promise.resolve();return c.then(function(){var a=b.j.getElement();a.parentNode.removeChild(a);b.c.getRootElement().style.removeProperty("padding-bottom");b.X.destroy()})};e.getContainer=function(){if(!this.Oa)throw Error("not opened yet");return this.Oa};
e.getIframe=function(){return this.j};e.getElement=function(){return this.j.getElement()};e.getCurrentView=function(){return this.qa};
e.openView=function(a){var b=this;E(a.getElement(),dd);this.qa&&this.qa.hasLoadingIndicator()?this.Ya=this.qa:(this.getContainer().textContent="",this.Qa.show());this.qa=a;this.getContainer().appendChild(a.getElement());a.shouldFadeBody()&&!this.Pa&&this.X.show(!0);return a.init(this).then(function(){E(a.getElement(),{opacity:1});b.Pa&&(a.shouldFadeBody()&&b.X.show(!0),fd(b));if(b.Ya){var c=b.Ya.getElement();c.parentElement&&c.parentElement.removeChild(c);b.Ya=null}else b.Qa.hide()})};
function fd(a){a.da(function(){E(a.getElement(),{transform:"translateY(100%)",opactiy:1,visibility:"visible"});return T(a.getElement(),{transform:"translateY(0)",opacity:1,visibility:"visible"},300)});a.Pa=!1}
e.resizeView=function(a,b,c){c=void 0===c?!0:c;var d=this;if(this.qa!=a)return null;var f=Math.min(b,.9*this.c.getWin().innerHeight);if(c){var g=this.getElement().offsetHeight;c=f>=g?this.da(function(){E(d.getElement(),{height:f+"px",transform:"translateY("+(f-g)+"px)"});return T(d.getElement(),{transform:"translateY(0)"},300)}):this.da(function(){return T(d.getElement(),{transform:"translateY("+(g-f)+"px)"},300).then(function(){E(d.getElement(),{height:f+"px",transform:"translateY(0)"})})})}else E(this.getElement(),
{height:f+"px"}),c=Promise.resolve();return c.then(function(){var c=b+20,f=d.c.getRootElement();E(f,{"padding-bottom":c+"px"});a.resized()})};e.da=function(a){var b=this,c=this.ea||Promise.resolve();return this.ea=c.then(function(){return a()},function(){}).then(function(){b.ea=null})};e.Dd=function(){return this.getElement().offsetHeight};
function hd(){var a="BOTTOM";switch(a){case "BOTTOM":return{bottom:0};case "TOP":return{top:0};case "FLOAT":return{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)"};case "FULL":return{position:"fixed",height:"100%",top:0,bottom:0};default:return{bottom:0}}};function id(a){var b=this;this.c=a;this.Z=this.W=null;this.ia=new Wc(a,2147483647);this.Va=null;this.ia.getElement().addEventListener("click",function(){if(b.Va)try{b.Va.focus()}catch(c){}})}e=id.prototype;e.openDialog=function(a){a=void 0===a?!1:a;this.Z||(this.W=new ed(this.c),this.Z=this.W.open(a));return this.Z};e.openView=function(a,b){b=void 0===b?!1:b;var c=this;a.whenComplete().catch(function(b){G(b)&&c.completeView(a);throw b;});return this.openDialog(b).then(function(b){return b.openView(a)})};
e.completeView=function(a){var b=this;setTimeout(function(){b.W&&b.W.getCurrentView()==a&&b.ka()},100)};e.completeAll=function(){this.W&&this.ka();this.ia.isAttached()&&this.ia.destroy()};e.getDialog=function(){return this.W};e.ka=function(){this.W.close();this.Z=this.W=null};e.popupOpened=function(a){this.Va=a||null;this.ia.isAttached()||this.ia.attach();this.ia.show()};e.popupClosed=function(){this.Va=null;try{this.ia.hide()}catch(a){}};function jd(a){var b=this;this.b=a;this.a=a.win();this.g=a.activities();this.h=a.dialogManager();this.f=new H(this.a,this.g,N("/metertoastiframe"),O({publicationId:a.pageConfig().getPublicationId(),productId:a.pageConfig().getProductId(),hasSubscriptionCallback:a.callbacks().hasSubscribeRequestCallback()}),!1);this.aa=function(){var a=new y;a.setClose(!0);b.f.execute(a)}}
jd.prototype.start=function(){var a=this;this.b.callbacks().triggerFlowStarted("showMeterToast");this.f.on(z,this.fc.bind(this));return this.h.openView(this.f).then(function(){kd(a);a.a.addEventListener("click",a.aa);a.a.addEventListener("touchstart",a.aa);a.a.addEventListener("mousedown",a.aa);a.a.addEventListener("wheel",a.aa);$a(a.a.document.body,"overflow","hidden")})};jd.prototype.setOnCancelCallback=function(a){this.f.onCancel(a)};
jd.prototype.removeCloseEventListener=function(){this.a.removeEventListener("click",this.aa);this.a.removeEventListener("touchstart",this.aa);this.a.removeEventListener("mousedown",this.aa);this.a.removeEventListener("wheel",this.aa);$a(this.a.document.body,"overflow","visible")};
function kd(a){var b=a.a.matchMedia("(max-width: 640px), (max-height: 640px)"),c=a.h.getDialog().getElement();b.matches&&E(c,{"box-shadow":"rgba(60, 64, 67, .3) 0 -2px 5px, rgba(60, 64, 67, .15) 0 -5px 5px"});b.addListener(function(a){a.matches?E(c,{"box-shadow":"rgba(60, 64, 67, .3) 0 -2px 5px, rgba(60, 64, 67, .15) 0 -5px 5px"}):E(c,{"box-shadow":""})})}jd.prototype.fc=function(a){a.getNative()&&this.b.callbacks().triggerSubscribeRequest()};var ld={height:0},md={frameborder:"0",scrolling:"no","class":"swg-toast"};function nd(a,b,c){var d=this;this.c=a.doc();this.g=a.activities();this.Ha=b;this.M=c;this.ea=null;this.j=F(this.c.getWin().document,"iframe",md);E(this.j,ld);this.ab=new Promise(function(a){d.j.onload=a})}nd.prototype.getElement=function(){return this.j};nd.prototype.open=function(){this.c.getBody().appendChild(this.j);return od(this)};
function od(a){var b=7;return a.g.openIframe(a.j,a.Ha,a.M).then(function(a){return a.whenReady()}).then(function(){bb(a.j);a.da(function(){E(a.j,{transform:"translateY(100%)",opactiy:1,visibility:"visible"});return T(a.j,{transform:"translateY(0)",opacity:1,visibility:"visible"},400)});a.c.getWin().setTimeout(function(){a.close()},1E3*(b+1))})}nd.prototype.da=function(a){var b=this;return this.ea=(this.ea||Promise.resolve()).then(function(){return a()},function(){}).then(function(){b.ea=null})};
nd.prototype.close=function(){var a=this;return this.da(function(){a.c.getWin().setTimeout(function(){a.c.getBody().removeChild(a.j);return Promise.resolve()},500);return T(a.j,{transform:"translateY(100%)",opacity:1,visibility:"visible"},400)})};function pd(){var a=Date.now();return new Ea([Math.floor(a/1E3),a%1E3*1E6],!1)};function qd(a,b,c,d){this.a=a;this.I=b;this.L=this.I.getPublicationId();this.C=c;this.b=d;this.dd=new Pb;this.Fa=null;this.na=0;this.La=!1;this.D=d.storage();this.R=d.analytics();this.N=d.config()}e=qd.prototype;e.reset=function(a){this.Fa=null;this.na=Math.max(this.na,a?3:0);a&&(this.D.remove("ents"),this.D.remove("isreadytopay"))};e.clear=function(){this.Fa=null;this.na=0;this.unblockNextNotification();this.D.remove("ents");this.D.remove("toast");this.D.remove("isreadytopay")};
e.getEntitlements=function(a){var b=this;"string"===typeof a&&(1600289016959<Date.now()&&C("[swg.js:getEntitlements]: If present, the first param of getEntitlements() should be an object of type GetEntitlementsParamsExternalDef."),a={encryption:{encryptedDocumentKey:a}});this.Fa||(this.Fa=rd(this,a));return this.Fa.then(function(a){null!=a.isReadyToPay&&b.R.setReadyToPay(a.isReadyToPay);return a})};
e.pushNextEntitlements=function(a,b){return(b=sd(this,a,!0,b))&&b.enablesThis()?(this.D.set("ents",a),!0):!1};function rd(a,b){return td(a,b).then(function(b){var c=a.La;a.La=!1;c||(a.b.callbacks().triggerEntitlementsResponse(Promise.resolve(b)),(c=b.getEntitlementForThis())?ud(a,c):a.b.eventManager().logSwgEvent(3009,!1));return b})}
function td(a,b){return Promise.all([a.D.get("ents"),a.D.get("isreadytopay")]).then(function(c){var d=c[0],f=c[1],g=!(!b||!b.encryption);if(d&&!g){var h=sd,k;a:{switch(f){case "true":k=!0;break a;case "false":k=!1;break a}k=void 0}var l=h(a,d,!0,k);if(l&&l.enablesThis())return a.na=0,l}return vd(a,b).then(function(b){b&&b.enablesThisWithCacheableEntitlements()&&b.raw&&a.D.set("ents",b.raw);return b})})}
function vd(a,b){function c(){d--;return a.xa(b).then(function(b){return b.enablesThis()||0>=d?b:new Promise(function(b){a.a.setTimeout(function(){b(c())},550)})})}var d=a.na;a.na=0;return c()}e.setToastShown=function(a){this.D.set("toast",a?"1":"0")};e.blockNextNotification=function(){this.La=!0};e.unblockNextNotification=function(){this.La=!1};
e.parseEntitlements=function(a){var b=a.isReadyToPay;null==b?this.D.remove("isreadytopay"):this.D.set("isreadytopay",String(b));var c=a.signedEntitlements,d=a.decryptedDocumentKey;if(c){if(a=sd(this,c,!1,b,d))return a}else{var f=a.entitlements;if(f)return wd(this,"",f,b,d)}return wd(this,"",[],b)};
function sd(a,b,c,d,f){try{var g=a.dd.decode(b);if(c){var h=Date.now(),k=g.exp;if(1E3*parseFloat(k)<h)return null}var l=g.entitlements;return l&&wd(a,b,l,d,f)||null}catch(p){a.a.setTimeout(function(){throw p;})}return null}function wd(a,b,c,d,f){return new Rb("subscribe.google.com",b,Sb(c),a.I.getProductId(),a.Pc.bind(a),a.Wc.bind(a),d,f)}
function ud(a,b){"google:metering"===b.source?(a.b.eventManager().logSwgEvent(3010,!1),Promise.resolve()):(a.b.eventManager().logSwgEvent(3007,!1),a.D.get("toast").then(function(c){var d="1"===c;if(!d)return c=b.source||"google",(new nd(a.b,N("/toastiframe"),O({publicationId:a.L,source:c}))).open()}))}e.Pc=function(a){a.getEntitlementForThis()&&this.setToastShown(!0)};
e.Wc=function(a,b){var c=this;if(a.enablesThisWithGoogleMetering()){var d=new jd(this.b);d.setOnCancelCallback(function(){b&&b();d.removeCloseEventListener();var f=a.getEntitlementForThis();if(f&&"google:metering"===f.source){c.b.eventManager().logSwgEvent(3008,!1);var g=new Ca;g.setSource(f.source);g.setJwt(f.subscriptionToken);f=new Da;f.setUsedEntitlement(g);f.setClientEventTime(pd());g="/publication/"+encodeURIComponent(c.L)+"/entitlements";c.C.sendPost(ac(g),f)}});return d.start()}};
e.xa=function(a){var b=this;return Va(Yb(this.b.doc())).then(function(c){var d=[];a&&a.encryption&&d.push("crypt="+encodeURIComponent(a.encryption.encryptedDocumentKey));if(b.L&&a&&a.metering&&a.metering.state){var f={metering:{clientTypes:[1],owner:b.L,resource:{hashedCanonicalUrl:c},state:{id:a.metering.state.id,attributes:[]}}},g=a.metering.state.standardAttributes;g&&Object.keys(g).forEach(function(a){f.metering.state.attributes.push({name:"standard_"+a,timestamp:g[a].timestamp})});var h=a.metering.state.customAttributes;
h&&Object.keys(h).forEach(function(a){f.metering.state.attributes.push({name:"custom_"+a,timestamp:h[a].timestamp})});var k=btoa(JSON.stringify(f));d.push("encodedParams="+k)}var l="/publication/"+encodeURIComponent(b.L)+"/entitlements";0<d.length&&(l+="?"+d.join("&"));return ac(l)}).then(function(a){b.b.eventManager().logSwgEvent(1024,!1);return b.C.fetchCredentialedJson(a)}).then(function(a){a.errorMessages&&0<a.errorMessages.length&&a.errorMessages.forEach(function(a){C("SwG Entitlements: "+a)});
return b.parseEntitlements(a)})};var xd=["GET","POST"],yd={document:1,text:2};function zd(a){this.win=a}zd.prototype.xa=function(a,b){D("string"==typeof a,"Only URL supported: %s",a);var c=b.credentials;D(void 0===c||"include"==c||"omit"==c,"Only credentials=include|omit support: %s",c);return"document"==b.responseType?Ad(a,b):(this.win.fetch||Ad).apply(null,arguments)};
zd.prototype.fetch=function(a,b){b=Bd(b);return this.xa(a,b).then(function(a){return a},function(b){var c=Wb(a).origin;throw Error("XHR Failed fetching ("+c+"/...):",b&&b.message);}).then(function(a){return Cd(a)})};function Bd(a){var b,c=a=a||{},d;d=a.method;void 0===d?d="GET":(d=d.toUpperCase(),D(xd.includes(d),"Only one of %s is currently allowed. Got %s",xd.join(", "),d));c.method=d;a.headers=a.headers||{};b&&(a.headers.Accept=b);return a}
function Ad(a,b){return new Promise(function(c,d){var f=Dd(b.method||"GET",a);"include"==b.credentials&&(f.withCredentials=!0);b.responseType in yd&&(f.responseType=b.responseType);b.headers&&Object.keys(b.headers).forEach(function(a){f.setRequestHeader(a,b.headers[a])});f.onreadystatechange=function(){2>f.readyState||(100>f.status||599<f.status?(f.onreadystatechange=null,d(Error("Unknown HTTP status "+f.status))):4==f.readyState&&c(new Ed(f)))};f.onerror=function(){d(Error("Network failure"))};f.onabort=
function(){d(Error("Request aborted"))};"POST"==b.method?f.send(b.body):f.send()})}function Dd(a,b){var c=new XMLHttpRequest;if("withCredentials"in c)c.open(a,b,!0);else throw Error("CORS is not supported");return c}function Cd(a){return new Promise(function(b){if(a.ok)return b(a);b=a.status;var c=Error("HTTP error "+b);c.retriable=415==b||500<=b&&600>b;c.response=a;throw c;})}
function Ed(a){this.P=a;this.status=this.P.status;this.ok=200<=this.status&&300>this.status;this.headers=new Fd(a);this.bodyUsed=!1;this.body=null}e=Ed.prototype;e.clone=function(){D(!this.bodyUsed,"Body already used");return new Ed(this.P)};function Gd(a){D(!a.bodyUsed,"Body already used");a.bodyUsed=!0;return Promise.resolve(a.P.responseText)}e.text=function(){return Gd(this)};e.json=function(){return Gd(this).then(Mb)};
e.Cd=function(){D(!this.bodyUsed,"Body already used");this.bodyUsed=!0;D(this.P.responseXML,"responseXML should exist. Make sure to return Content-Type: text/html header.");return Promise.resolve(D(this.P.responseXML))};e.arrayBuffer=function(){return Gd(this).then(Sa)};function Fd(a){this.P=a}Fd.prototype.get=function(a){return this.P.getResponseHeader(a)};Fd.prototype.has=function(a){return null!=this.P.getResponseHeader(a)};function Hd(a){this.P=new zd(a)}Hd.prototype.fetchCredentialedJson=function(a){return this.fetch(a,{method:"GET",headers:{Accept:"text/plain, application/json"},credentials:"include"}).then(function(a){return a.json()})};Hd.prototype.sendPost=function(a,b){b={method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"},credentials:"include",body:"f.req="+JSON.stringify(b.toArray(!1))};return this.fetch(a,b).then(function(a){return a&&a.json()||{}})};
Hd.prototype.fetch=function(a,b){return this.P.fetch(a,b)};Hd.prototype.sendBeacon=function(a,b){if(navigator.sendBeacon){var c={type:"application/x-www-form-urlencoded;charset=UTF-8"};b=new Blob(["f.req="+JSON.stringify(b.toArray(!1))],c);navigator.sendBeacon(a,b)}else this.sendPost(a,b)};function Id(a){this.c=a;this.jd=Promise.resolve()}Id.prototype.error=function(a){var b=this,c=Array.prototype.slice.call(arguments,0);return this.jd.then(function(){var a=Jd.apply(null,c);a.reported||(b.c.getWin().document.createElement("img").src="https://news.google.com/_/SubscribewithgoogleClientUi/jserror?error="+encodeURIComponent(String(a))+"&script="+encodeURIComponent("https://news.google.com/swg/js/v1/swg.js")+"&line="+(a.lineNumber||1)+"&trace="+encodeURIComponent(a.stack),a.reported=!0)})};
function Jd(a){for(var b=null,c="",d=0;d<arguments.length;d++){var f=arguments[d];if(f instanceof Error&&!b){var b=void 0,g=Object.getOwnPropertyDescriptor(f,"message");if(g&&g.writable)b=f;else{var g=f.stack,h=Error(f.message);for(b in f)h[b]=f[b];h.stack=g;b=h}}else c&&(c+=" "),c+=f}b?c&&(b.message=c+": "+b.message):b=Error(c);return b};var U={},Kd=(U.paywall=1,U.ad_shown=2,U.offers_shown=3,U.subscriptions_landing_page=1004,U.offer_selected=1006,U.payment_flow_start=1005,U.payment_complete=1001,U.custom=3E3,U),V={},Ld=(V[0]=null,V[1]="paywall",V[2]="ad_shown",V[3]="offers_shown",V[4]=null,V[5]=null,V[1E3]=null,V[1001]="payment_complete",V[1002]=null,V[1003]=null,V[1004]="subscriptions_landing_page",V[1005]="payment_flow_start",V[1006]="offer_selected",V[2E3]=null,V[3E3]="custom",V);function Md(a){this.l=a.eventManager()}Md.prototype.sendSubscriptionState=function(a,b){if(!uc(cc,a))throw Error("Invalid subscription state provided");if(("subscriber"==a||"past_subscriber"==a)&&!b)throw Error("Entitlements must be provided for users with active or expired subscriptions");if(b&&!Q(b))throw Error("Entitlements must be an Object");var c=null;b&&(c=JSON.stringify(b));this.l.logEvent({eventType:4E3,eventOriginator:5,isFromUserAction:null,additionalParameters:{state:a,productsOrSkus:c}})};
Md.prototype.sendEvent=function(a){var b=null;if(!uc(dc,a.name)||!Kd[a.name])throw Error("Invalid user event provided("+a.name+")");if(a.data)if(Q(a.data))b=Object.assign({},b,a.data);else throw Error("Event data must be an Object("+a.data+")");if(vc(a.active))b||(b={}),Object.assign(b,{is_active:a.active});else if(null!=a.active)throw Error("Event active must be a boolean");this.l.logEvent({eventType:Kd[a.name],eventOriginator:5,isFromUserAction:a.active,additionalParameters:b})};function Nd(a){this.b=a;this.a=a.win();this.g=a.activities();this.h=a.dialogManager();this.Ba=null;this.f=new H(this.a,this.g,N("/loginiframe"),O({publicationId:a.pageConfig().getPublicationId(),productId:a.pageConfig().getProductId(),userConsent:!1}),!0)}
Nd.prototype.start=function(){var a=this;this.b.callbacks().triggerFlowStarted("showLoginNotification");this.Ba=this.h.openView(this.f);return this.f.acceptResult().then(function(){a.h.completeView(a.f)},function(b){a.h.completeView(a.f);throw b;})};function Od(a){this.b=a;this.a=a.win();this.g=a.activities();this.h=a.dialogManager();this.Ba=null;this.f=new H(this.a,this.g,N("/loginiframe"),O({publicationId:a.pageConfig().getPublicationId(),productId:a.pageConfig().getProductId(),userConsent:!0}),!0)}
Od.prototype.start=function(){var a=this;this.b.callbacks().triggerFlowStarted("showLoginPrompt");this.Ba=this.h.openView(this.f);return this.f.acceptResult().then(function(){a.h.completeView(a.f)},function(b){G(b)?a.b.callbacks().triggerFlowCanceled("showLoginPrompt"):a.h.completeView(a.f);throw b;})};function Pd(a,b){this.b=a;this.a=a.win();this.g=a.activities();this.h=a.dialogManager();this.f=new H(this.a,this.g,N("/meterregwalliframe"),O({publicationId:a.pageConfig().getPublicationId(),productId:a.pageConfig().getProductId(),gsiUrl:b.gsiUrl,alreadyRegisteredUrl:b.alreadyRegisteredUrl}),!0)}Pd.prototype.start=function(){this.b.callbacks().triggerFlowStarted("showMeterRegwall");return this.h.openView(this.f)};function Qd(a,b){this.N=a;this.C=b}Qd.prototype.getOffers=function(a){a=void 0===a?this.N.getProductId():a;if(!a)throw Error("getOffers requires productId in config or arguments");return this.xa(a)};Qd.prototype.xa=function(a){a=ac("/publication/"+encodeURIComponent(this.N.getPublicationId())+"/offers?label="+encodeURIComponent(a));return this.C.fetchCredentialedJson(a).then(function(a){return a.offers||[]})};function Rd(a){for(var b=null,c="",d=0;d<arguments.length;d++){var f=arguments[d];if(f instanceof Error&&!b){var b=void 0,g=Object.getOwnPropertyDescriptor(f,"message");if(g&&g.writable)b=f;else{var g=f.stack,h=Error(f.message);for(b in f)h[b]=f[b];h.stack=g;b=h}}else c&&(c+=" "),c+=f}b?c&&(b.message=c+": "+b.message):b=Error(c);return b}function Sd(a){this.fb=a=void 0===a?"":a}function Td(a,b){a.fb&&(b.message?-1===b.message.indexOf(a.fb)&&(b.message=a.fb):b.message=a.fb)}
Sd.prototype.createError=function(a){var b=Rd.apply(null,Array.prototype.slice.call(arguments));Td(this,b);return b};Sd.prototype.createExpectedError=function(a){var b=Rd.apply(null,Array.prototype.slice.call(arguments));Td(this,b);b.expected=!0;return b};Sd.prototype.error=function(a){throw this.createError.apply(this,arguments);};Sd.prototype.expectedError=function(a){throw this.createExpectedError.apply(this,arguments);};var Ud=new Sd(self.__AMP_TOP?"\u200b\u200b\u200b":"");new Sd;function W(a,b){var c,d,f=a.indexOf(":");-1!=f?(c=a.substring(0,f),d=a.substring(f+1),"*"==d&&Ud.expectedError("wildcard disallowed")):(c=a,d=a=null);this.L=c;this.oa=a;this.za=d;this.fd=b}W.prototype.getPublicationId=function(){return this.L};W.prototype.getProductId=function(){return this.oa};W.prototype.getLabel=function(){return this.za};W.prototype.isLocked=function(){return this.fd};/*

 Copyright 2018 Google Inc. All Rights Reserved.

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS-IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
*/
var Vd={LOCAL:"LOCAL",PREPROD:"PREPROD",PRODUCTION:"PRODUCTION",SANDBOX:"SANDBOX",TEST:"TEST",TIN:"TIN"},Wd={CARD:"CARD",TOKENIZED_CARD:"TOKENIZED_CARD",UPI:"UPI"},Xd={CRYPTOGRAM_3DS:"CRYPTOGRAM_3DS",PAN_ONLY:"PAN_ONLY"},Yd={ESTIMATED:"ESTIMATED",FINAL:"FINAL",NOT_CURRENTLY_KNOWN:"NOT_CURRENTLY_KNOWN"};function Zd(a){this.B=a;this.K=null}Zd.prototype.onResult=function(a){this.K=a};
Zd.prototype.isReadyToPay=function(a){var b=$d(a);return new Promise(function(c){b.canMakePayment().then(function(b){window.sessionStorage.setItem("google.payments.api.storage.isreadytopay.result",b.toString());var d={result:b};2<=a.apiVersion&&a.existingPaymentMethodRequired&&(d.paymentMethodPresent=b);c(d)}).catch(function(){window.sessionStorage.getItem("google.payments.api.storage.isreadytopay.result")?c({result:"true"==window.sessionStorage.getItem("google.payments.api.storage.isreadytopay.result")}):
c({result:!1})})})};Zd.prototype.prefetchPaymentData=function(a){$d(a,this.B,a.transactionInfo.currencyCode,a.transactionInfo.totalPrice)};Zd.prototype.loadPaymentData=function(a){ae(this,a)};
function $d(a,b,c,d){var f={};a&&(f=JSON.parse(JSON.stringify(a)));f.apiVersion||(f.apiVersion=1);f.swg&&(f.allowedPaymentMethods=["CARD"]);b&&"TEST"==b&&(f.environment=b);var g=[{supportedMethods:["https://google.com/pay"],data:f}];return new PaymentRequest(g,{total:{label:"Estimated Total Price",amount:{currency:c||"USD",value:d||"0"}}})}
function ae(a,b){b=$d(b,a.B,b.transactionInfo&&b.transactionInfo.currencyCode||void 0,b.transactionInfo&&b.transactionInfo.totalPrice||void 0);a.K(b.show().then(function(a){a.complete("success");return a.details}).catch(function(a){a.statusCode="CANCELED";throw a;}))};function be(a){var b=this;this.c=a;this.S=a.createElement("gpay-graypane");ce(this.S,{"z-index":2147483647,display:"none",position:"fixed",top:0,right:0,bottom:0,left:0,"background-color":"rgba(32, 33, 36, .6)"});this.Wa=null;this.S.addEventListener("click",function(){if(b.Wa)try{b.Wa.focus()}catch(c){}})}be.prototype.show=function(a){this.Wa=a||null;this.c.body.appendChild(this.S);ce(this.S,{display:"block",opacity:0});return de(this.S,{opacity:1})};
be.prototype.hide=function(){var a=this;this.Wa=null;if(this.S.parentElement)return de(this.S,{opacity:0}).then(function(){ce(a.S,{display:"none"});a.c.body.removeChild(a.S)})};function ce(a,b){for(var c in b)a.style.setProperty(c,b[c].toString(),"important")}
function de(a,b){var c=a.ownerDocument.defaultView,d=a.style.transition||"";return(new Promise(function(d){c.setTimeout(function(){c.setTimeout(d,300);ce(a,Object.assign({transition:"transform 300ms ease-out, opacity 300ms ease-out"},b))})})).then(function(){ce(a,Object.assign({transition:d},b))})};function ee(){var a,b;return!1}function fe(){var a=-1!=window.navigator.userAgent.indexOf("OPR/");if(a)return!1;if(ee())return!0;var b=window.navigator.userAgent.match(/Android/i),c=window.navigator.userAgent.match(/Chrome\/([0-9]+)\./i);return null!=b&&"PaymentRequest"in window&&"Google Inc."==window.navigator.vendor&&null!=c&&59<=Number(c[1])}
function ge(a){if(2<=a.apiVersion){var b=he(a);if(b&&1==b.length&&"CRYPTOGRAM_3DS"==b[0])return!0}return 1==a.allowedPaymentMethods.length&&"TOKENIZED_CARD"==a.allowedPaymentMethods[0]}function ie(a,b){return 2<=a.apiVersion&&(a=he(a))&&a.includes(b)?!0:!1}function je(){return window.location.hostname.endsWith(".google.com")||void 0===window.isSecureContext?null:window.isSecureContext?null:"Google Pay APIs should be called in secure context!"}
function ke(a){if(a.environment&&!Object.values(Vd).includes(a.environment))throw Error("Parameter environment in PaymentOptions can optionally be set to PRODUCTION, otherwise it defaults to TEST. "+a.environment);}
function le(a){if(!a)return"isReadyToPayRequest must be set!";if(2<=a.apiVersion){if(!("apiVersionMinor"in a))return"apiVersionMinor must be set!";if(!a.allowedPaymentMethods||!Array.isArray(a.allowedPaymentMethods)||0==a.allowedPaymentMethods.length)return"for v2 allowedPaymentMethods must be set to an array containing a list of accepted payment methods";for(var b=0;b<a.allowedPaymentMethods.length;b++){var c=a.allowedPaymentMethods[b];if("CARD"==c.type){if(!c.parameters)return"Field parameters must be setup in each allowedPaymentMethod";
var d=c.parameters.allowedCardNetworks;if(!d||!Array.isArray(d)||0==d.length)return"allowedCardNetworks must be setup in parameters for type CARD";var f=c.parameters.allowedAuthMethods;if(!f||!Array.isArray(f)||0==f.length||!f.every(me))return"allowedAuthMethods must be setup in parameters for type 'CARD'  and must contain 'CRYPTOGRAM_3DS' and/or 'PAN_ONLY'"}}}else if(!a.allowedPaymentMethods||!Array.isArray(a.allowedPaymentMethods)||0==a.allowedPaymentMethods.length||!a.allowedPaymentMethods.every(ne))return"allowedPaymentMethods must be set to an array containing 'CARD' and/or 'TOKENIZED_CARD'!";
return null}function ne(a){return Object.values(Wd).includes(a)}function me(a){return Object.values(Xd).includes(a)}
function oe(a){if(!a)return"paymentDataRequest must be set!";if(a.swg)return(a=a.swg)?a.skuId&&a.publicationId?null:"Both skuId and publicationId must be provided":"Swg parameters must be provided";if(a.transactionInfo)if(a.transactionInfo.currencyCode){if(!a.transactionInfo.totalPriceStatus||!Object.values(Yd).includes(a.transactionInfo.totalPriceStatus))return"totalPriceStatus in transactionInfo must be set to one of NOT_CURRENTLY_KNOWN, ESTIMATED or FINAL!";if("NOT_CURRENTLY_KNOWN"!==a.transactionInfo.totalPriceStatus&&
!a.transactionInfo.totalPrice)return"totalPrice in transactionInfo must be set when totalPriceStatus is ESTIMATED or FINAL!"}else return"currencyCode in transactionInfo must be set!";else return"transactionInfo must be set!";var b=pe(a);if(b){if(!b.parameters)return"parameters must be set in allowedPaymentMethod!";var c=b.parameters;if(c.payeeVpa)if(c.payeeName)if(c.referenceUrl){if(!c.mcc)return"mcc in allowedPaymentMethod parameters must be set!";if(!c.transactionReferenceId)return"transactionReferenceId in allowedPaymentMethod parameters must be set!"}else return"referenceUrl in allowedPaymentMethod parameters must be set!";
else return"payeeName in allowedPaymentMethod parameters must be set!";else return"payeeVpa in allowedPaymentMethod parameters must be set!";if("INR"!==a.transactionInfo.currencyCode)return"currencyCode in transactionInfo must be set to INR!";if("FINAL"!==a.transactionInfo.totalPriceStatus)return"totalPriceStatus in transactionInfo must be set to FINAL!";if(!a.transactionInfo.transactionNote)return"transactionNote in transactionInfo must be set!"}return null}
function pe(a){return!fe()||2>a.apiVersion||!a.allowedPaymentMethods?null:qe(a,"UPI")}function he(a){return a.allowedPaymentMethods&&(a=qe(a,"CARD"))&&a.parameters?a.parameters.allowedAuthMethods:null}function qe(a,b){for(var c=0;c<a.allowedPaymentMethods.length;c++){var d=a.allowedPaymentMethods[c];if(d.type==b)return d}return null};function re(a){this.Ad=a}re.prototype.postMessage=function(a,b){this.Ad.postMessage(a,b)};var X=null,te=null,ue=null,ve=null,we=Date.now(),xe=null,ye=!1,ze=[];
function Ae(){if(!X){var a=window.gpayInitParams||{};ue=a.environment||"PRODUCTION";X=document.createElement("iframe");X.src="https://pay"+("PREPROD"==ue?"-preprod.sandbox":"SANDBOX"==ue?".sandbox":"")+".google.com/gp/p/ui/payframe?origin="+window.location.origin+"&mid=%{merchantId}";Y({eventType:15,clientLatencyStartMs:Date.now()});X.height="0";X.width="0";X.style.display="none";X.style.visibility="hidden";X.onload=function(){Y({eventType:17,clientLatencyStartMs:Date.now()});Be()};document.body?
Ce():document.addEventListener("DOMContentLoaded",function(){return Ce()})}}function Ce(){document.body.appendChild(X);te=new re(X.contentWindow)}function De(a,b){var c="isReadyToPayResponse";function d(a){a.data[c]&&(b(a),window.removeEventListener("message",d))}window.addEventListener("message",d);var f=Object.assign({eventType:6},a);Y(f)}function Y(a){ye?(a=Object.assign({buyFlowActivityMode:xe,googleTransactionId:ve,originTimeMs:we},a),te.postMessage(a,Ee())):ze.push(a)}
function Fe(){var a=Ge;ve=a}function Be(){ye=!0;ze.forEach(function(a){Y(a)});ze.length=0}function Ee(){var a="https://pay";"SANDBOX"==ue?a+=".sandbox":"PREPROD"==ue&&(a+="-preprod.sandbox");return a+".google.com"};function He(a,b,c,d,f){this.B=a;this.activities=d||new Fb(window);this.X=new be(window.document);this.Hd=this.K=null;this.cc=!1;this.Yc=this.m=null;this.Ed=b;this.Lc=f||null;this.Ga=null}e=He.prototype;e.onResult=function(a){this.K||(this.K=a,this.activities.onResult("GPAY",this.md.bind(this)))};
e.md=function(a){var b=this;this.X.hide();this.K(a.acceptResult().then(function(a){if(a.origin!=Ie(b))throw Error("channel mismatch");var c=a.data;if(c.redirectEncryptedCallbackData)return xe=3,Je(b,c.redirectEncryptedCallbackData).then(function(a){var b=Object.assign({},c);delete b.redirectEncryptedCallbackData;return Object.assign(b,a)});if(!a.originVerified||!a.secureChannel)throw Error("channel mismatch");return c},function(a){var b=a.message,c=a.message;try{c=JSON.parse(b.substring(7))}catch(g){}c.statusCode&&
-1==["DEVELOPER_ERROR","MERCHANT_ACCOUNT_ERROR"].indexOf(c.statusCode)&&(c={statusCode:"CANCELED"});"AbortError"==c&&(c={statusCode:"CANCELED"});return Promise.reject(c)}))};
function Je(a,b){return new Promise(function(c,d){var f=Ke(a),g=new XMLHttpRequest;g.open("POST",f,!0);"withCredentials"in g&&(g.withCredentials=!0);g.onreadystatechange=function(){if(!(2>g.readyState))if(100>g.status||599<g.status)g.onreadystatechange=null,d(Error("Unknown HTTP status "+g.status));else if(4==g.readyState)try{c(JSON.parse(g.responseText))}catch(h){d(h)}};g.onerror=function(){d(Error("Network failure"))};g.onabort=function(){d(Error("Request aborted"))};g.send(b)})}
e.isReadyToPay=function(a){var b=this;return new Promise(function(c){if(ge(a))c({result:!1});else{var d=window.navigator.userAgent,f=0<d.indexOf("GSA/")&&0<d.indexOf("Safari");if(f)c({result:!1});else{var g=0<d.indexOf("FxiOS");if(g)c({result:!1});else{var h=0<d.indexOf("Chrome")||0<d.indexOf("Firefox")||0<d.indexOf("Safari");h&&2<=a.apiVersion&&a.existingPaymentMethodRequired?(a.environment=b.B,De(a,function(b){var d={result:h};a.existingPaymentMethodRequired&&(d.paymentMethodPresent="READY_TO_PAY"==
b.data.isReadyToPayResponse);c(d)})):c({result:h})}}}})};e.prefetchPaymentData=function(){var a,b};e.loadPaymentData=function(a){var b,c;a.swg||a.apiVersion||(a.apiVersion=1);a.environment=this.B;xe=a.forceRedirect?3:2;var d=this.activities.open("GPAY","TIN"==this.B?"/ui/pay":Ie(this)+"/gp/p/ui/pay",a.forceRedirect?"_top":"gp-js-popup",a,{width:600,height:600});this.X.show(d&&d.targetWin)};
function Ie(a){if("LOCAL"==a.B)return"";var b;b="PREPROD"==a.B?"pay-preprod.sandbox":"SANDBOX"==a.B?"pay.sandbox":"pay";return"https://"+b+".google.com"}function Ke(a){var b=Ie(a)+"/gp/p/apis/buyflow/process";a.Lc&&(b+="?rk="+encodeURIComponent(a.Lc));return b}
e.getIframeUrl=function(a,b){var c="https://pay.google.com/gp/p/ui/pay?origin="+b;if("SANDBOX"==a||"PREPROD"==a)c="https://pay'+  (environment == Constants.Environment.PREPROD ? '-preprod' : '')+  '.sandbox.google.com/gp/p/ui/pay?origin="+b;return c};function Le(a,b){var c="all 250ms ease 0s";Me(b,c);b.height="0px";setTimeout(function(){a.parentNode&&a.parentNode.removeChild(a)},250)}
e.Fd=function(){var a=document.createElement("div");a.classList.add("google-payments-dialogContainer");var b=document.createElement("div");b.classList.add("iframeContainer");var c=document.createElement("iframe");c.classList.add("google-payments-dialog");c.setAttribute("frameborder","0");c.setAttribute("scrolling","no");b.appendChild(c);a.appendChild(b);document.body.appendChild(a);a={container:a,iframe:c};b=a.iframe;c=a.container;c.addEventListener("click",this.Rc.bind(this,a));c.style.display="none";
b.style.display="none";b.height="0px";Me(b,"all 250ms ease 0s");this.cc=!1;return a};e.Bd=function(a){a.container.parentNode&&(this.Yc(Promise.reject({errorCode:"CANCELED"})),Le(a.container,a.iframe),this.m&&this.m.disconnect())};e.Rc=function(a){a.container.parentNode&&history.back()};
e.Id=function(a,b){var c=this;a.style.display="block";b.style.display="block";setTimeout(function(){b.height="280px";setTimeout(function(){c.cc=!0;c.Ga&&(Me(b,c.Ga.transition),b.height=c.Ga.height,c.Ga=null)},250)},1)};function Me(a,b){a.style.setProperty("transition",b);a.style.setProperty("-webkit-transition",b)}
e.Gd=function(a,b,c){var d=this;c.swg||c.apiVersion||(c.apiVersion=1);c.environment=this.B;var f,g=this.getIframeUrl(this.B,window.location.origin);return this.activities.openIframe(b,g,c).then(function(a){d.m=a;a.onMessage(function(a){"resize"===a.type&&d.cc?(f||(f=Date.now()),Date.now()<f+250?Me(b,a.transition+", height 250ms"):Me(b,a.transition),b.height=a.height):d.Ga={height:a.height,transition:a.transition}});return a.acceptResult()}).then(function(c){Le(a,b);history.back();return c.data},function(c){Le(a,
b);history.back();return Promise.reject(c)})};function Ne(){}Ne.prototype.isUpiRequest=function(a){return!!pe(a)};Ne.prototype.isReadyToPay=function(a){if(pe(a))return a.existingPaymentMethodRequired?Promise.resolve({result:!0,paymentMethodPresent:!0}):Promise.resolve({result:!0});throw Error("No Upi payment method found in handler");};
Ne.prototype.loadPaymentData=function(a,b,c){var d=b.parameters,f=a.transactionInfo,g=[{supportedMethods:["https://tez.google.com/pay"],data:{pa:d.payeeVpa,pn:d.payeeName,tr:d.transactionReferenceId,url:d.referenceUrl,mc:d.mcc,tn:f.transactionNote}}];d.transactionId&&(g[0].data.tid=d.transactionId);var h=new PaymentRequest(g,{total:{label:"Total",amount:{currency:f.currencyCode,value:f.totalPrice}},displayItems:[{label:"Original Amount",amount:{currency:f.currencyCode,value:f.totalPrice}}]});c(Oe(h).then(function(a){a?
a=Pe(h):(window.location.replace("https://play.google.com/store/apps/details?id=com.google.android.apps.nbu.paisa.user"),a=Promise.reject({errorMessage:"Cannot redirect to Tez page in Google Play."}));return a}).then(function(c){var d;d=b;var f=JSON.parse(c.tezResponse);if("FAILURE"===f.Status){switch(f.responseCode){case "ZM":d={errorCode:3,errorMessage:"Payment failure due to invalid MPIN."};break;case "Z9":d={errorCode:3,errorMessage:"Payment failure due to insufficient funds."};break;case "91":d=
{errorCode:1,errorMessage:"Payment failure due to transaction timeout or connection issue."};break;default:d={errorMessage:"Payment cancelled."}}d=Promise.reject(d)}else d=Promise.resolve({apiVersion:a.apiVersion,apiVersionMinor:a.apiVersionMinor,paymentMethodData:{type:d.type,tokenizationData:{type:"DIRECT",token:{protocolVersion:"ECv1",signature:"",signedMessage:{paymentMethodType:"UPI",payeeVpa:d.parameters.payeeVpa,status:f.Status,transactionReferenceId:d.parameters.transactionReferenceId,transactionId:d.parameters.transactionId?
d.parameters.transactionId:f.txnId,transactionInfo:a.transactionInfo}}}}});return d}).catch(function(a){a.statusCode="CANCELED";return Promise.reject(a)}))};function Pe(a){return a.show().then(function(a){a.complete("success");return a.details})}
function Oe(a){var b=window.sessionStorage.getItem("google.payments.api.storage.upi.canMakePaymentCache");if(b)return Promise.resolve("true"===b);if(!a.canMakePayment)return Promise.resolve(!0);var c=a.canMakePayment();return c.then(function(a){a&&window.sessionStorage.setItem("google.payments.api.storage.upi.canMakePaymentCache",a.toString());return a})};/*

Math.uuid.js (v1.4)
http://www.broofa.com
mailto:robert@broofa.com
Copyright (c) 2010 Robert Kieffer
Dual licensed under the MIT and GPL licenses.
*/
var Qe="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split("");function Re(a){for(var b=Array(36),c=0,d,f=0;36>f;f++)8==f||13==f||18==f||23==f?b[f]="-":14==f?b[f]="4":(2>=c&&(c=33554432+16777216*Math.random()|0),d=c&15,c>>=4,b[f]=Qe[19==f?d&3|8:d]);return b.join("")+"."+a};var Se="actions.google.com amp-actions.sandbox.google.com amp-actions-staging.sandbox.google.com amp-actions-autopush.sandbox.google.com payments.developers.google.com payments.google.com".split(" ");
function Te(a,b,c,d){this.Fc=b;ke(a);this.Cc=null;this.B=a.environment||"TEST";Ge||(Ge=-1!=Se.indexOf(window.location.hostname)&&a.i&&a.i.googleTransactionId?a.i.googleTransactionId:Re(this.B));this.nd=a;this.ja=new He(this.B,Ge,0,d,a.i&&a.i.redirectKey);this.ra=5;var f=fe();this.wa=f&&!c?new Zd(this.B):this.ja;this.oc=new Ne;this.ja.onResult(this.Nb.bind(this));this.wa.onResult(this.Nb.bind(this));Ae();ee()?xe=5:f&&(xe=4);Fe();Y({eventType:9,clientLatencyStartMs:Date.now()});window.addEventListener("message",
function(a){-1!=Se.indexOf(window.location.hostname)&&"logPaymentData"===a.data.name&&Y(a.data.data)})}var Ge;e=Te.prototype;e.isReadyToPay=function(a){a&&(a=Object.assign({},this.nd,a));var b=Date.now(),c=je()||le(a);if(c)return new Promise(function(a,b){Ue("isReadyToPay",c);Y({eventType:0,error:2});b({statusCode:"DEVELOPER_ERROR",statusMessage:c})});var d=Ve(this,a);d.then(function(a){Y({eventType:0,clientLatencyStartMs:b,isReadyToPayApiResponse:a});return a});return d};
function Ve(a,b){if(a.oc.isUpiRequest(b))return a.oc.isReadyToPay(b);if(fe()&&!We(b)){if(2<=b.apiVersion)return Xe(a,b);var c=a.ja.isReadyToPay(b),d=a.wa.isReadyToPay(b);return ge(b)&&!ee()?d:d.then(function(){return c})}var f=a.ja.isReadyToPay(b);return f}
function Xe(a,b){var c=Promise.resolve({result:!1});b.existingPaymentMethodRequired&&(c=Promise.resolve({result:!1,paymentMethodPresent:!1}));var d=c;if(ie(b,"CRYPTOGRAM_3DS")){for(var f=JSON.parse(JSON.stringify(b)),d=0;d<f.allowedPaymentMethods.length;d++)"CARD"==f.allowedPaymentMethods[d].type&&(f.allowedPaymentMethods[d].parameters.allowedAuthMethods=["CRYPTOGRAM_3DS"]);d=a.wa.isReadyToPay(f)}var g=c;ie(b,"PAN_ONLY")&&(g=a.ja.isReadyToPay(b));return ee()?d.then(function(){return g}):d.then(function(a){return 1==
(a&&a.result)?a:g})}e.prefetchPaymentData=function(a){var b=je()||oe(a);b?Ue("prefetchPaymentData",b):(Ye(a),fe()&&!We(a)?this.wa.prefetchPaymentData(a):this.ja.prefetchPaymentData(a))};
e.loadPaymentData=function(a){var b=this;Y({eventType:5});var c=je()||oe(a);this.ra=a&&a.swg?6:5;if(c)this.Fc(new Promise(function(a,d){Y({eventType:1,error:2,buyFlowMode:b.ra});Ue("loadPaymentData",c);d({statusCode:"DEVELOPER_ERROR",statusMessage:c})}));else{var d=pe(a);if(d)this.oc.loadPaymentData(a,d,this.Nb.bind(this));else{var f=window.sessionStorage.getItem("google.payments.api.storage.isreadytopay.result");this.Cc=Date.now();Ye(a);ee()&&"true"!==f||We(a)?this.ja.loadPaymentData(a):this.wa.loadPaymentData(a)}}};
function Ue(a,b){console.error("DEVELOPER_ERROR in "+a+" : "+b)}e.createButton=function(){var a=Date.now();Y({eventType:2,clientLatencyStartMs:a});return null};e.Nb=function(a){var b=this;a.then(function(){Y({eventType:1,clientLatencyStartMs:b.Cc,buyFlowMode:b.ra})}).catch(function(a){a.errorCode?Y({eventType:1,error:a.errorCode,buyFlowMode:b.ra}):Y({eventType:1,error:6,buyFlowMode:b.ra})});this.Fc(a)};
function Ye(a){var b={startTimeMs:Date.now(),googleTransactionId:Ge};a.i=a.i?Object.assign(b,a.i):b}function We(a){return!0===(a.i&&a.i.disableNative)};function Ze(a){this.c=a}Ze.prototype.preconnect=function(a){$e(this,a,"preconnect")};Ze.prototype.dnsPrefetch=function(a){$e(this,a,"dns-prefetch")};Ze.prototype.prefetch=function(a){$e(this,a,"preconnect prefetch")};Ze.prototype.preload=function(a,b){$e(this,a,"preconnect preload",b)};function $e(a,b,c,d){var f=F(a.c,"link",{rel:c,href:b});d&&f.setAttribute("as",d);a.c.head.appendChild(f)};var af={PRODUCTION:"https://pay.google.com",SANDBOX:"https://pay.sandbox.google.com"};function bf(a){this.a=a.win();this.g=a.activities();this.$=this.Yb=this.$b=null;this.uc=a.analytics();this.Vb=new cf(this.a);this.Na=null;this.pd=new Ze(this.a.document);this.Vb.prepare();this.l=a.eventManager()}function df(a,b,c,d){Ge=c;return new Te(b,d,!1,a.g.getOriginalWebActivityPorts())}e=bf.prototype;
e.preconnect=function(a){a.prefetch(M(af.SANDBOX+"/gp/p/ui/pay","_",bc()));a.prefetch("https://payments.google.com/payments/v4/js/integrator.js?ss=md");a.prefetch("https://clients2.google.com/gr/gr_full_2.0.6.js")};e.getType=function(){return"PAYJS"};
e.start=function(a,b){b=void 0===b?{}:b;var c=this;this.Yb=a;this.Na||(this.preconnect(this.pd),this.Na=df(this,{environment:"SANDBOX",i:{redirectKey:this.Vb.restoreKey()}},this.uc.getTransactionId(),this.ad.bind(this)));b.forceRedirect&&(a=Object.assign(a,{forceRedirect:b.forceRedirect||!1}));ef(a,"disableNative",this.a!=this.a.top);var d=null,f=new Promise(function(a){return d=a});this.Vb.useVerifier(function(f){f&&ef(a,"redirectVerifier",f);if(b.forceRedirect){var g=c.Na;c.l.getReadyPromise().then(function(){c.uc.getLoggingPromise().then(function(){g.loadPaymentData(a);
d(!0)})})}else c.Na.loadPaymentData(a),d(!0)});return f};e.onResponse=function(a){var b=this;this.$b=a;var c=this.$;c&&Promise.resolve().then(function(){c&&a(ff(b,c,b.Yb))})};e.ad=function(a){this.$=a;this.$b&&this.$b(ff(this,this.$,this.Yb))};function ff(a,b,c){return b.then(function(a){c&&(a.paymentRequest=c);return a}).catch(function(b){"object"==typeof b&&"CANCELED"==b.statusCode&&(b=eb(a.a,void 0),b.productType=c?c.i.productType:null);return Promise.reject(b)})}
function cf(a){this.a=a;this.Ta=!1;this.Da=this.Pb=null}cf.prototype.prepare=function(){return gf(this,function(){})};cf.prototype.useVerifier=function(a){var b=this;gf(this,function(c){if(c)try{b.a.localStorage.setItem("subscribe.google.com:rk",c.key)}catch(d){c=null}a(c&&c.verifier||null)})};cf.prototype.restoreKey=function(){try{return this.a.localStorage&&this.a.localStorage.getItem("subscribe.google.com:rk")||null}catch(a){return null}};
function gf(a,b){hf(a);a.Ta?b(a.Pb):a.Da&&a.Da.then(function(a){return b(a)});return a.Da}
function hf(a){if(!a.Ta&&!a.Da){var b;try{b=!!a.a.localStorage}catch(d){b=!1}var c=a.a.crypto;b&&c&&c.getRandomValues&&c.subtle&&c.subtle.digest?a.Da=(new Promise(function(a,b){var d=new Uint8Array(16);c.getRandomValues(d);var f=btoa(Qa(d));c.subtle.digest({name:"SHA-384"},Pa(f)).then(function(b){b=btoa(Qa(new Uint8Array(b)));a({key:f,verifier:b})},function(a){b(a)})})).catch(function(){return null}).then(function(b){a.Ta=!0;return a.Pb=b}):(a.Ta=!0,a.Pb=null)}}
function ef(a,b,c){var d={};a.i=Object.assign(a.i||{},(d[b]=c,d))};function jf(a,b,c){this.a=a;this.b=b;this.L=this.b.pageConfig().getPublicationId();this.lb=null;this.C=c;this.zd=1;this.b.eventManager().registerEventListener(this.zb.bind(this))}function kf(a,b){b=M(b,"u_tz","240");b=M(b,"v",String(a.zd));if(!a.lb){var c=a.a.document.cookie.match("(^|;)\\s*__gads\\s*=\\s*([^;]+)");a.lb=c&&encodeURIComponent(c.pop())}var d=a.lb;d&&(b=M(b,"cookie",d));return b=M(b,"cdm",a.a.location.hostname)}
jf.prototype.sendSubscriptionState=function(a,b){a=M("https://pubads.g.doubleclick.net/subopt/data","states",this.L+":"+a);b&&(a=M(a,"extrainfo",b));return this.C.fetch(kf(this,a),{method:"GET",credentials:"include"})};
jf.prototype.zb=function(a){if(this.b.config().enablePropensity||3===a.eventOriginator)if(4E3===a.eventType)this.sendSubscriptionState(a.additionalParameters.state,a.additionalParameters.productsOrSkus);else{var b=Ld[a.eventType];if(null!=b){var c=a.additionalParameters;c instanceof t&&(c=void 0);vc(a.isFromUserAction)&&(Q(c)||(c={}),c.is_active=a.isFromUserAction);a=JSON.stringify(c);var d;d=M("https://pubads.g.doubleclick.net/subopt/data","events",this.L+":"+b);a&&(d=M(d,"extrainfo",a));this.C.fetch(kf(this,d),{method:"GET",
credentials:"include"})}}};
jf.prototype.getPropensity=function(a,b){return this.C.fetch(kf(this,"https://pubads.g.doubleclick.net/subopt/pts?products="+this.L+"&type="+b+"&ref="+a),{method:"GET",credentials:"include"}).then(function(a){return a.json()}).then(function(a){var b={};if(a.header)if(a.header.ok){var c=a.scores;a=[];for(var g=0;g<c.length;g++){var h=c[g];a.push(h.score?{product:h.product,score:{value:h.score,bucketed:2==h.score_type}}:{product:h.product,error:h.error_message})}a&&(b={header:{ok:!0},body:{scores:a}})}else b={header:{ok:!1},
body:{error:a.error}};else b={header:{ok:!1},body:{error:"No valid response"}};return b})};function lf(a,b,c){this.a=a;this.Jc=new jf(a,b,c);this.l=b.eventManager()}lf.prototype.sendSubscriptionState=function(a,b){if(!Object.values(cc).includes(a))throw Error("Invalid subscription state provided");if(("subscriber"==a||"past_subscriber"==a)&&!b)throw Error("Entitlements must be provided for users with active or expired subscriptions");if(b&&!Q(b))throw Error("Entitlements must be an Object");var c=null;b&&(c=JSON.stringify(b));this.Jc.sendSubscriptionState(a,c)};
lf.prototype.getPropensity=function(a){if(a&&!Object.values(ec).includes(a))throw Error("Invalid propensity type requested");a||(a="general");return this.Jc.getPropensity(this.a.document.referrer,a)};
lf.prototype.sendEvent=function(a){var b=Kd[a.name],c=null;if(!uc(dc,a.name)||!b)throw Error("Invalid user event provided("+a.name+")");if(a.data)if(Q(a.data))c={},Object.assign(c,a.data);else throw Error("Event data must be an Object("+a.data+")");if(vc(a.active))c||(c={}),Object.assign(c,{is_active:a.active});else if(null!=a.active)throw Error("Event active must be a boolean");this.l.logEvent({eventType:b,eventOriginator:3,isFromUserAction:a.active,additionalParameters:c})};function mf(a){this.a=a;this.Ja={}}mf.prototype.get=function(a){var b=this;this.Ja[a]||(this.Ja[a]=new Promise(function(c){if(b.a.sessionStorage)try{c(b.a.sessionStorage.getItem(nf(a)))}catch(d){c(null)}else c(null)}));return this.Ja[a]};mf.prototype.set=function(a,b){var c=this;this.Ja[a]=Promise.resolve(b);return new Promise(function(d){if(c.a.sessionStorage)try{c.a.sessionStorage.setItem(nf(a),b)}catch(f){}d()})};mf.prototype.remove=function(a){var b=this;delete this.Ja[a];return new Promise(function(c){if(b.a.sessionStorage)try{b.a.sessionStorage.removeItem(nf(a))}catch(d){}c()})};
function nf(a){return"subscribe.google.com:"+a};function of(a,b){this.b=a;this.a=a.win();this.g=a.activities();this.h=a.dialogManager();this.Ba=null;this.Oc=b||Promise.reject("No account promise provided");this.f=new H(this.a,this.g,N("/waitforsubscriptionlookupiframe"),O({publicationId:a.pageConfig().getPublicationId(),productId:a.pageConfig().getProductId()}),!0,!0)}
of.prototype.start=function(){var a=this;this.Ba=this.h.openView(this.f);return this.Oc.then(function(b){a.h.completeView(a.f);return b},function(b){a.h.completeView(a.f);throw b;})};function pf(a){this.b=a;this.g=a.activities();this.I=a.pageConfig();this.h=a.dialogManager()}
pf.prototype.start=function(a){a=void 0===a?{}:a;this.b.callbacks().triggerFlowStarted("linkAccount");var b="redirect"==this.b.config().windowOpenMode;a=a.ampReaderId?O({publicationId:this.I.getPublicationId(),ampReaderId:a.ampReaderId}):O({publicationId:this.I.getPublicationId()});a=this.g.open("swg-link",N("/linkbackstart"),b?"_top":"_blank",a,{});this.b.eventManager().logSwgEvent(12);this.h.popupOpened(a&&a.targetWin);return Promise.resolve()};
function qf(a,b){var c=this;this.b=a;this.a=a.win();this.g=a.activities();this.h=a.dialogManager();this.T=a.entitlementsManager();this.u=a.callbacks();this.f=new H(this.a,this.g,N("/linkconfirmiframe","/u/"+(b&&b.index||"0")),O({productId:a.pageConfig().getProductId(),publicationId:a.pageConfig().getPublicationId()}),!0);this.wc=null;this.Tc=new Promise(function(a){c.wc=a})}
function rf(a){a.activities().onResult("swg-link",function(b){a.entitlementsManager().blockNextNotification();a.callbacks().triggerLinkProgress();a.dialogManager().popupClosed();return La(b,$b(),!1,!1).then(function(b){a.eventManager().logSwgEvent(1011,!0);(new qf(a,b)).start()},function(b){G(b)?(a.eventManager().logSwgEvent(1012,!0),a.callbacks().triggerFlowCanceled("linkAccount")):a.eventManager().logSwgEvent(1011,!0)})})}
qf.prototype.start=function(){var a=this;this.f.acceptResultAndVerify($b(),!0,!0).then(function(b){a.H(b)}).catch(function(a){setTimeout(function(){throw a;})}).then(function(){a.h.completeView(a.f)});this.b.eventManager().logSwgEvent(3005,!0);this.b.eventManager().logSwgEvent(14,!0);return this.h.openView(this.f)};
qf.prototype.H=function(a){this.b.eventManager().logSwgEvent(1013,!0);this.u.triggerLinkComplete();this.u.resetLinkProgress();this.T.setToastShown(!0);this.T.unblockNextNotification();this.T.reset(a&&a.success||!1);a&&a.entitlements&&this.T.pushNextEntitlements(a.entitlements);this.wc()};qf.prototype.whenComplete=function(){return this.Tc};function sf(a,b){this.a=a.win();this.b=a;this.g=a.activities();this.h=a.dialogManager();this.K=b;this.f=this.Z=this.Mc=null}sf.prototype.getRequestPromise=function(){return this.Mc};
sf.prototype.H=function(){this.h.completeView(this.f)};function tf(a,b){a.H();var c,d=null;b.linked?(a.h.popupClosed(),a.b.callbacks().triggerFlowStarted("linkAccount"),d=new qf(a.b,b),c=d.start()):c=Promise.reject(eb(a.a,"not linked"));var f=c.then(function(){a.b.callbacks().triggerLinkProgress();return d.whenComplete()});return f.then(function(){return!0})}
sf.prototype.ud=function(a){var b=this;a&&a.getRequested()&&(this.Mc=(new Promise(function(a){a(b.K())})).then(function(a){var c=new Ga;if(a&&a.token){if(a.authCode)throw Error("Both authCode and token are available");c.setToken(a.token)}else if(a&&a.authCode)c.setAuthCode(a.authCode);else throw Error("Neither token or authCode is available");b.f.execute(c)}).catch(function(a){b.H();throw a;}))};
sf.prototype.start=function(){var a=this,b=this.g.addDefaultArguments({isClosable:!0});this.f=new H(this.a,this.g,N("/linksaveiframe"),b,!1,!0);this.f.on(v,this.ud.bind(this));this.Z=this.h.openView(this.f,!0);this.b.eventManager().logSwgEvent(13);return this.f.acceptResultAndVerify($b(),!0,!0).then(function(b){return tf(a,b)}).catch(function(b){a.H();if(G(b))return a.b.eventManager().logSwgEvent(1016,!0),a.b.callbacks().triggerFlowCanceled("linkAccount"),!1;throw b;})};var uf="CreativeWork Article NewsArticle Blog Comment Course HowTo Message Review WebPage".split(" "),vf=new RegExp(uf.join("|"));function wf(a){var b=this;this.c=bd(a);this.la=null;this.Uc=new Promise(function(a){b.la=a});this.hd=new xf(this.c);this.ed=new yf(this.c);this.kd=new zf(this.c)}wf.prototype.resolveConfig=function(){Promise.resolve().then(this.check.bind(this));this.c.whenReady().then(this.check.bind(this));return this.Uc};
wf.prototype.check=function(){if(!this.la)return null;var a=this.hd.check();a||(a=this.ed.check());a||(a=this.kd.check());a?(this.la(a),this.la=null):this.c.isReady()&&(this.la(Promise.reject(Ud.createError("No config could be discovered in the page"))),this.la=null);Ma(a);return a};function Af(){}Af.prototype.checkValue=function(a,b){return a?this.checkArray(Bf(a),b):!1};Af.prototype.checkString=function(a,b){return a?this.checkArray(a.split(/\s+/),b):!1};
Af.prototype.checkArray=function(a,b){var c=!1;a.forEach(function(a){c=c||b.includes(a.replace(/^http:\/\/schema.org\//i,""))});return c};function Bf(a){return Array.isArray(a)?a:[a]}function xf(a){this.c=a}xf.prototype.check=function(){if(!this.c.getBody())return null;var a=Cf(this.c.getRootNode(),"subscriptions-product-id");if(!a)return null;var b=Cf(this.c.getRootNode(),"subscriptions-accessible-for-free"),c=b&&"false"==b.toLowerCase()||!1;return new W(a,c)};
function yf(a){this.c=a;this.sa=new Af}yf.prototype.check=function(){if(!this.c.getBody())return null;for(var a=this.c.isReady(),b=this.c.getRootNode().querySelectorAll('script[type="application/ld+json"]'),c=0;c<b.length;c++){var d=b[c],f;if((f=!d["__SWG-SEEN__"]&&d.textContent)&&!(f=a))a:{f=d;do if(f.nextSibling){f=!0;break a}while((f=f.parentNode)&&void 0!=f);f=!1}if(f&&(d["__SWG-SEEN__"]=!0,vf.test(d.textContent))){var g=this.nc(d);if(g)return g}}return null};
yf.prototype.nc=function(a){var b=Nb(a.textContent);if(!b)return null;Array.isArray(b)||(b=[b]);for(a=0;a<b.length;a++){var c=b[a];if(this.sa.checkValue(c["@type"],uf)){var d=null,f=Df(c,"isPartOf");if(f)for(var g=0;g<f.length&&!(d=this.rb(f[g]));g++);if(d){var h=Ef(Ff(c,"isAccessibleForFree"));return new W(d,!h)}}}return null};
function Ef(a){var b=!0;if(null==a||""===a)return b;if("boolean"==typeof a)return a;if("string"==typeof a){var c=a.toLowerCase();if("false"==c)return!1;if("true"==c)return!0}return b}yf.prototype.rb=function(a){return this.sa.checkValue(a["@type"],["Product"])?Ff(a,"productID"):null};function Df(a,b){a=a[b];return null==a||""===a?null:Array.isArray(a)?a:[a]}function Ff(a,b){var c=Df(a,b);a=c&&c[0];return null==a||""===a?null:a}function zf(a){this.c=a;this.oa=this.Ka=null;this.sa=new Af}
function Gf(a,b){var c="alreadySeenForAccessInfo",d=b.querySelectorAll("[itemprop='isAccessibleForFree']");for(b=0;d[b];b++){var f=d[b],g=f.getAttribute("content")||f.textContent;if(g&&Hf(a,f,c)){var h=null;"true"==g.toLowerCase()?h=!0:"false"==g.toLowerCase()&&(h=!1);return h}}return null}function Hf(a,b,c){for(var d=b;d&&!d[c];d=d.parentNode)if(d[c]=!0,d.hasAttribute&&d.hasAttribute("itemscope"))return d=d.getAttribute("itemtype"),a.sa.checkString(d,uf);return!1}
zf.prototype.rb=function(a){a=a.querySelectorAll('[itemprop="productID"]');for(var b=0;a[b];b++){var c=a[b],d=c.getAttribute("content")||c.textContent,c=c.closest("[itemtype][itemscope]");if(!(-1>=c.getAttribute("itemtype").indexOf("http://schema.org/Product"))&&Hf(this,c.parentElement,"alreadySeenForProductInfo"))return d}return null};function If(a){var b=null;null!=a.Ka?b=!a.Ka:a.c.isReady()&&(b=!1);return null!=a.oa&&null!=b?new W(a.oa,b):null}
zf.prototype.nc=function(){var a=this,b=If(this);if(b)return b;for(var c=Array.prototype.slice.call(this.c.getRootNode().querySelectorAll("[itemscope][itemtype]")).filter(function(b){return a.sa.checkString(b.getAttribute("itemtype"),uf)}),d=0;c[d]&&null==b;d++)b=c[d],null==this.Ka&&(this.Ka=Gf(this,b)),this.oa||(this.oa=this.rb(b)),b=If(this);return b};zf.prototype.check=function(){return this.c.getBody()?this.nc():null};
function Cf(a,b){return(a=a.querySelector('meta[name="'+b+'"]'))?a.getAttribute("content"):null};function Jf(a){var b=this;this.a=a;this.c=bd(a);this.ab=Promise.resolve();this.Sb=null;this.N={};this.nb=!1;this.ua=null;this.ob=new Promise(function(a){b.ua=a});this.Ca=null;this.fa=new Lc(this.c,this.ob);this.fa.init()}e=Jf.prototype;e.whenReady=function(){return this.ab};
function Z(a,b){if(!a.nb&&b){a.nb=!0;var c;a.Sb?c=Promise.resolve(new W(a.Sb,!1)):(a.Ca=new wf(a.c),c=a.Ca.resolveConfig().then(function(b){a.Ca=null;return b}));c.then(function(b){a.ua(new Kf(a.c,b,{configPromise:a.ob},a.N));a.ua=null},function(b){a.ua(Promise.reject(b));a.ua=null})}else b&&a.Ca&&a.Ca.check();return a.ob}
e.startSubscriptionsFlowIfNeeded=function(){var a;a=this.a.document;var b=Cf(a,"subscriptions-control");a=b?b:(a=a.querySelector("script[subscriptions-control]"))?a.getAttribute("subscriptions-control"):null;Ma(a,"mode");return"manual"==a?null:this.start()};e.init=function(a){D(!this.nb,"already configured");this.Sb=a;Z(this,!0)};e.configure=function(a){Object.assign(this.N,a);return Z(this,!1).then(function(b){return b.configure(a)})};e.start=function(){return Z(this,!0).then(function(a){return a.start()})};
e.reset=function(){return Z(this,!0).then(function(a){return a.reset()})};e.clear=function(){return Z(this,!0).then(function(a){return a.clear()})};e.getEntitlements=function(a){return Z(this,!0).then(function(b){return b.getEntitlements(a)})};e.setOnEntitlementsResponse=function(a){return Z(this,!1).then(function(b){return b.setOnEntitlementsResponse(a)})};e.getOffers=function(a){return Z(this,!0).then(function(b){return b.getOffers(a)})};e.showOffers=function(a){return Z(this,!0).then(function(b){return b.showOffers(a)})};
e.showUpdateOffers=function(a){return Z(this,!0).then(function(b){return b.showUpdateOffers(a)})};e.showSubscribeOption=function(a){return Z(this,!0).then(function(b){return b.showSubscribeOption(a)})};e.showAbbrvOffer=function(a){return Z(this,!0).then(function(b){return b.showAbbrvOffer(a)})};e.showContributionOptions=function(a){return Z(this,!0).then(function(b){return b.showContributionOptions(a)})};e.waitForSubscriptionLookup=function(a){return Z(this,!0).then(function(b){return b.waitForSubscriptionLookup(a)})};
e.showMeterRegwall=function(a){return Z(this,!0).then(function(b){return b.showMeterRegwall(a)})};e.setOnNativeSubscribeRequest=function(a){return Z(this,!1).then(function(b){return b.setOnNativeSubscribeRequest(a)})};e.setOnSubscribeResponse=function(a){return Z(this,!1).then(function(b){return b.setOnSubscribeResponse(a)})};e.subscribe=function(a){return Z(this,!0).then(function(b){return b.subscribe(a)})};e.updateSubscription=function(a){return Z(this,!0).then(function(b){return b.updateSubscription(a)})};
e.setOnContributionResponse=function(a){return Z(this,!1).then(function(b){return b.setOnContributionResponse(a)})};e.setOnPaymentResponse=function(a){return Z(this,!1).then(function(b){return b.setOnPaymentResponse(a)})};e.contribute=function(a){return Z(this,!0).then(function(b){return b.contribute(a)})};e.completeDeferredAccountCreation=function(a){return Z(this,!0).then(function(b){return b.completeDeferredAccountCreation(a)})};e.setOnLoginRequest=function(a){return Z(this,!1).then(function(b){return b.setOnLoginRequest(a)})};
e.triggerLoginRequest=function(a){return Z(this,!1).then(function(b){return b.triggerLoginRequest(a)})};e.setOnLinkComplete=function(a){return Z(this,!1).then(function(b){return b.setOnLinkComplete(a)})};e.linkAccount=function(a){a=void 0===a?{}:a;return Z(this,!0).then(function(b){return b.linkAccount(a)})};e.setOnFlowStarted=function(a){return Z(this,!1).then(function(b){return b.setOnFlowStarted(a)})};e.setOnFlowCanceled=function(a){return Z(this,!1).then(function(b){return b.setOnFlowCanceled(a)})};
e.saveSubscription=function(a){return Z(this,!0).then(function(b){return b.saveSubscription(a)})};e.showLoginPrompt=function(){return Z(this,!0).then(function(a){return a.showLoginPrompt()})};e.showLoginNotification=function(){return Z(this,!0).then(function(a){return a.showLoginNotification()})};e.createButton=function(a,b){return this.fa.create(a,b)};e.attachSmartButton=function(a,b,c){return Z(this,!0).then(function(d){return d.attachSmartButton(a,b,c)})};
e.attachButton=function(a,b,c){return this.fa.attach(a,b,c)};e.getPropensityModule=function(){return Z(this,!0).then(function(a){return a.getPropensityModule()})};e.getLogger=function(){return Z(this,!0).then(function(a){return a.getLogger()})};e.getEventManager=function(){return Z(this,!0).then(function(a){return a.getEventManager()})};e.setShowcaseEntitlement=function(){};
function Kf(a,b,c,d){var f=this;c=c||{};c.configPromise=c.configPromise||Promise.resolve();this.l=new yc(c.configPromise);this.c=bd(a);this.a=this.c.getWin();this.N={windowOpenMode:"auto",analyticsMode:0,enableSwgAnalytics:!1,enablePropensity:!1};db(this.a)&&(this.N.windowOpenMode="redirect");d&&Lf(this,d);this.I=b;this.A=this.c.whenReady();this.Bc=new Id(this.c);this.C=c.fetcher||new Hd(this.a);this.D=new mf(this.a);this.h=new id(this.c);this.u=new Pc;this.g=new sc(this);this.R=new Fc(this,this.C);
this.R.start();this.Qb=new bf(this);this.gd=new Md(this);this.T=new qd(this.a,this.I,this.C,this);this.qd=new lf(this.a,this,this.C);this.l.logSwgEvent(11,!1);this.ld=new Qd(this.I,this.C);this.fa=new Lc(this.c,Promise.resolve(this));var g=new Ze(this.a.document);g.prefetch("/assets/loader.svg");g.preconnect("https://www.gstatic.com/");g.preconnect("https://fonts.googleapis.com/");g.preconnect("https://www.google.com/");rf(this);mc(this);cb(this.c,".swg-dialog,.swg-toast{box-sizing:border-box;background-color:#fff!important}.swg-toast{position:fixed!important;bottom:0!important;max-height:46px!important;z-index:2147483647!important;border:none!important}@media (max-height:640px), (max-width:640px){.swg-dialog,.swg-toast{width:480px!important;left:-240px!important;margin-left:50vw!important;border-top-left-radius:8px!important;border-top-right-radius:8px!important;box-shadow:0 1px 1px rgba(60,64,67,.3),0 1px 4px 1px rgba(60,64,67,.15)!important}}@media (min-width:640px) and (min-height:640px){.swg-dialog{width:630px!important;left:-315px!important;margin-left:50vw!important;background-color:transparent!important;border:none!important}.swg-toast{left:0!important}}@media (max-width:480px){.swg-dialog,.swg-toast{width:100%!important;left:0!important;right:0!important;margin-left:0!important}}\n/*# sourceURL=/./src/components/dialog.css*/");
this.g.onRedirectError(function(a){f.R.addLabels(["redirect"]);f.l.logSwgEvent(2E3,!1);f.Bc.error("Redirect error",a)})}e=Kf.prototype;e.doc=function(){return this.c};e.win=function(){return this.a};e.pageConfig=function(){return this.I};e.jserror=function(){return this.Bc};e.activities=function(){return this.g};e.payClient=function(){return this.Qb};e.dialogManager=function(){return this.h};e.entitlementsManager=function(){return this.T};e.callbacks=function(){return this.u};e.storage=function(){return this.D};
e.analytics=function(){return this.R};e.init=function(){};e.configure=function(a){Lf(this,a)};
function Lf(a,b){var c="",d;for(d in b){var f=b[d];switch(d){case "windowOpenMode":"auto"!=f&&"redirect"!=f&&(c="Unknown windowOpenMode: "+f);break;case "experiments":f.forEach(function(b){Ac(a.a)[b]=!0});a.analytics()&&a.analytics().addLabels(f);break;case "analyticsMode":0!=f&&1!=f&&(c="Unknown analytics mode: "+f);break;case "enableSwgAnalytics":vc(f)||(c="Unknown enableSwgAnalytics value: "+f);break;case "enablePropensity":vc(f)||(c="Unknown enablePropensity value: "+f);break;default:c="Unknown config property: "+
d}}D(!c,c||void 0);Object.assign(a.N,b)}e.config=function(){return this.N};e.reset=function(){this.T.reset();this.h.completeAll()};e.clear=function(){this.T.clear();this.h.completeAll()};e.start=function(){if(!this.I.getProductId()||!this.I.isLocked())return Promise.resolve();this.getEntitlements()};e.getEntitlements=function(a){var b=this;return this.T.getEntitlements(a).then(function(a){if(a)try{var c=a.entitlements.map(function(a){return a.getSku()||"unknown subscriptionToken"});0<c.length&&b.R.setSku(c.join(","))}catch(f){}return a.clone()})};
e.setOnEntitlementsResponse=function(a){this.u.setOnEntitlementsResponse(a)};e.getOffers=function(a){return this.ld.getOffers(a&&a.productId)};e.showOffers=function(a){var b=this;return this.A.then(function(){D(a?!a.oldSku:!0,"The showOffers() method cannot be used to update a subscription. Use the showUpdateOffers() method instead.");return(new P(b,a)).start()})};
e.showUpdateOffers=function(a){var b=this;D(Bc(this.a,"replace-subscription"),"Not yet launched!");return this.A.then(function(){D(a?!!a.oldSku:!1,"The showUpdateOffers() method cannot be used for new subscribers. Use the showOffers() method instead.");return(new P(b,a)).start()})};e.showSubscribeOption=function(a){var b=this;return this.A.then(function(){return(new oc(b,a)).start()})};e.showAbbrvOffer=function(a){var b=this;return this.A.then(function(){return(new pc(b,a)).start()})};
e.showContributionOptions=function(a){var b=this;return this.A.then(function(){return(new Rc(b,a)).start()})};e.waitForSubscriptionLookup=function(a){var b=this;return this.A.then(function(){return(new of(b,a)).start()})};e.showMeterRegwall=function(a){var b=this;return this.A.then(function(){return(new Pd(b,a)).start()})};e.setOnLoginRequest=function(a){this.u.setOnLoginRequest(a)};e.triggerLoginRequest=function(a){this.u.triggerLoginRequest(a)};e.setOnLinkComplete=function(a){this.u.setOnLinkComplete(a)};
e.linkAccount=function(a){a=void 0===a?{}:a;var b=this;return this.A.then(function(){return(new pf(b)).start(a)})};e.saveSubscription=function(a){var b=this;return this.A.then(function(){return(new sf(b,a)).start()})};e.showLoginPrompt=function(){var a=this;return this.A.then(function(){return(new Od(a)).start()})};e.showLoginNotification=function(){var a=this;return this.A.then(function(){return(new Nd(a)).start()})};e.setOnNativeSubscribeRequest=function(a){this.u.setOnSubscribeRequest(a)};
e.setOnSubscribeResponse=function(a){this.u.setOnSubscribeResponse(a)};e.setOnPaymentResponse=function(a){this.u.setOnPaymentResponse(a)};e.subscribe=function(a){var b=this;D("string"===typeof a,"The subscribe() method can only take a sku as its parameter; for subscription updates please use the updateSubscription() method");return this.A.then(function(){return(new jc(b,{skuId:a})).start()})};
e.updateSubscription=function(a){var b=this;D(Bc(this.a,"replace-subscription"),"Not yet launched!");D(a?a.oldSku:!1,"The updateSubscription() method should be used for subscription updates; for new subscriptions please use the subscribe() method");return this.A.then(function(){return(new jc(b,a)).start()})};e.setOnContributionResponse=function(a){this.u.setOnContributionResponse(a)};
e.contribute=function(a){var b=this,c="string"==typeof a?{skuId:a}:a;return this.A.then(function(){return(new jc(b,c,"UI_CONTRIBUTION")).start()})};e.completeDeferredAccountCreation=function(a){var b=this;return this.A.then(function(){return(new Sc(b,a||null)).start()})};e.setOnFlowStarted=function(a){this.u.setOnFlowStarted(a)};e.setOnFlowCanceled=function(a){this.u.setOnFlowCanceled(a)};e.createButton=function(a,b){return this.fa.create(a,b)};e.attachButton=function(a,b,c){this.fa.attach(a,b,c)};
e.attachSmartButton=function(a,b,c){D(Bc(this.a,"smartbox"),"Not yet launched!");this.fa.attachSmartButton(this,a,b,c)};e.getPropensityModule=function(){return Promise.resolve(this.qd)};e.eventManager=function(){return this.l};e.getEventManager=function(){return Promise.resolve(this.l)};e.getLogger=function(){return Promise.resolve(this.gd)};e.setShowcaseEntitlement=function(){};
function Mf(a){return{init:a.init.bind(a),configure:a.configure.bind(a),start:a.start.bind(a),reset:a.reset.bind(a),clear:a.clear.bind(a),getEntitlements:a.getEntitlements.bind(a),linkAccount:a.linkAccount.bind(a),showLoginPrompt:a.showLoginPrompt.bind(a),showLoginNotification:a.showLoginNotification.bind(a),getOffers:a.getOffers.bind(a),showOffers:a.showOffers.bind(a),showUpdateOffers:a.showUpdateOffers.bind(a),showAbbrvOffer:a.showAbbrvOffer.bind(a),showMeterRegwall:a.showMeterRegwall.bind(a),showSubscribeOption:a.showSubscribeOption.bind(a),
showContributionOptions:a.showContributionOptions.bind(a),waitForSubscriptionLookup:a.waitForSubscriptionLookup.bind(a),subscribe:a.subscribe.bind(a),updateSubscription:a.updateSubscription.bind(a),contribute:a.contribute.bind(a),completeDeferredAccountCreation:a.completeDeferredAccountCreation.bind(a),setOnEntitlementsResponse:a.setOnEntitlementsResponse.bind(a),setOnLoginRequest:a.setOnLoginRequest.bind(a),triggerLoginRequest:a.triggerLoginRequest.bind(a),setOnLinkComplete:a.setOnLinkComplete.bind(a),
setOnNativeSubscribeRequest:a.setOnNativeSubscribeRequest.bind(a),setOnPaymentResponse:a.setOnPaymentResponse.bind(a),setOnSubscribeResponse:a.setOnSubscribeResponse.bind(a),setOnContributionResponse:a.setOnContributionResponse.bind(a),setOnFlowStarted:a.setOnFlowStarted.bind(a),setOnFlowCanceled:a.setOnFlowCanceled.bind(a),saveSubscription:a.saveSubscription.bind(a),createButton:a.createButton.bind(a),attachButton:a.attachButton.bind(a),attachSmartButton:a.attachSmartButton.bind(a),getPropensityModule:a.getPropensityModule.bind(a),
getLogger:a.getLogger.bind(a),getEventManager:a.getEventManager.bind(a),setShowcaseEntitlement:a.setShowcaseEntitlement.bind(a)}};A("Subscriptions Runtime: 0.1.22-1606775357619");(function(a){function b(a){a&&c.whenReady().then(function(){a(d)})}if(!a.SWG||Array.isArray(a.SWG)){var c=new Jf(a),d=Mf(c),f=[].concat(a.SWG,a.SUBSCRIPTIONS);f.forEach(b);a.SWG=a.SUBSCRIPTIONS={push:b};c.startSubscriptionsFlowIfNeeded()}})(self);})();
//# sourceMappingURL=subscriptions.js.map

